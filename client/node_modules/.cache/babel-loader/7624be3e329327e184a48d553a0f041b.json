{"ast":null,"code":"import React, { createContext, memo, useEffect, isValidElement, cloneElement, createRef, Component, useLayoutEffect, useMemo, useContext, useState, useCallback, useRef, forwardRef, useImperativeHandle } from 'react';\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport 'react-dom';\n\nvar createTransition = function (event, check) {\n  return {\n    _isMBTransition: true,\n    event: event,\n    check: check\n  };\n};\n\nvar TouchTransition = createTransition('touchstart', function (event) {\n  return event.touches != null; // eslint-disable-line no-eq-null, eqeqeq\n});\nvar MouseTransition = createTransition('mousedown', function (event) {\n  if (event.type) {\n    return event.type.indexOf('touch') === -1 && event.type.indexOf('mouse') !== -1;\n  }\n\n  return false;\n});\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray$8(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$8(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$8(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$8(o, minLen);\n}\n\nfunction _arrayLikeToArray$8(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck$i(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar PreviewList = function PreviewList() {\n  var _this = this;\n\n  _classCallCheck$i(this, PreviewList);\n\n  this.register = function (preview) {\n    _this.previews.push(preview);\n  };\n\n  this.unregister = function (preview) {\n    var index;\n\n    while ((index = _this.previews.indexOf(preview)) !== -1) {\n      _this.previews.splice(index, 1);\n    }\n  };\n\n  this.backendChanged = function (backend) {\n    var _iterator = _createForOfIteratorHelper(_this.previews),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var preview = _step.value;\n        preview.backendChanged(backend);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  this.previews = [];\n};\n\nfunction _toConsumableArray$1(arr) {\n  return _arrayWithoutHoles$1(arr) || _iterableToArray$1(arr) || _unsupportedIterableToArray$7(arr) || _nonIterableSpread$1();\n}\n\nfunction _nonIterableSpread$1() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$7(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$7(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$7(o, minLen);\n}\n\nfunction _iterableToArray$1(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles$1(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$7(arr);\n}\n\nfunction _arrayLikeToArray$7(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck$h(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar _default = function _default(manager, context, sourceOptions) {\n  var _this = this;\n\n  _classCallCheck$h(this, _default);\n\n  this.setup = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (_this.constructor.isSetUp) {\n      throw new Error('Cannot have two MultiBackends at the same time.');\n    }\n\n    _this.constructor.isSetUp = true;\n\n    _this.addEventListeners(window);\n\n    _this.backends[_this.current].instance.setup();\n  };\n\n  this.teardown = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    _this.constructor.isSetUp = false;\n\n    _this.removeEventListeners(window);\n\n    _this.backends[_this.current].instance.teardown();\n  };\n\n  this.connectDragSource = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _this.connectBackend('connectDragSource', args);\n  };\n\n  this.connectDragPreview = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _this.connectBackend('connectDragPreview', args);\n  };\n\n  this.connectDropTarget = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _this.connectBackend('connectDropTarget', args);\n  };\n\n  this.previewEnabled = function () {\n    return _this.backends[_this.current].preview;\n  };\n\n  this.addEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.addEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.removeEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.removeEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.backendSwitcher = function (event) {\n    var oldBackend = _this.current;\n    var i = 0;\n\n    _this.backends.some(function (backend) {\n      if (i !== _this.current && backend.transition && backend.transition.check(event)) {\n        _this.current = i;\n        return true;\n      }\n\n      i += 1;\n      return false;\n    });\n\n    if (_this.current !== oldBackend) {\n      _this.backends[oldBackend].instance.teardown();\n\n      Object.keys(_this.nodes).forEach(function (id) {\n        var node = _this.nodes[id];\n        node.handler();\n        node.handler = _this.callBackend(node.func, node.args);\n      });\n\n      _this.previews.backendChanged(_this);\n\n      var newBackend = _this.backends[_this.current];\n      newBackend.instance.setup();\n\n      if (newBackend.skipDispatchOnTransition) {\n        return;\n      }\n\n      var newEvent = null;\n\n      try {\n        newEvent = new event.constructor(event.type, event);\n      } catch (_e) {\n        newEvent = document.createEvent('Event');\n        newEvent.initEvent(event.type, event.bubbles, event.cancelable);\n      }\n\n      event.target.dispatchEvent(newEvent);\n    }\n  };\n\n  this.callBackend = function (func, args) {\n    var _this$backends$_this$;\n\n    return (_this$backends$_this$ = _this.backends[_this.current].instance)[func].apply(_this$backends$_this$, _toConsumableArray$1(args));\n  };\n\n  this.connectBackend = function (func, args) {\n    var nodeId = \"\".concat(func, \"_\").concat(args[0]);\n\n    var handler = _this.callBackend(func, args);\n\n    _this.nodes[nodeId] = {\n      func: func,\n      args: args,\n      handler: handler\n    };\n    return function () {\n      var _this$nodes$nodeId;\n\n      var r = (_this$nodes$nodeId = _this.nodes[nodeId]).handler.apply(_this$nodes$nodeId, arguments);\n\n      delete _this.nodes[nodeId];\n      return r;\n    };\n  };\n\n  var options = Object.assign({\n    backends: []\n  }, sourceOptions || {});\n\n  if (options.backends.length < 1) {\n    throw new Error(\"You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx\");\n  }\n\n  this.current = 0;\n  this.previews = new PreviewList();\n  this.backends = [];\n  options.backends.forEach(function (backend) {\n    if (!backend.backend) {\n      throw new Error(\"You must specify a 'backend' property in your Backend entry: \".concat(backend));\n    }\n\n    var transition = backend.transition;\n\n    if (transition && !transition._isMBTransition) {\n      throw new Error(\"You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: \".concat(backend));\n    }\n\n    _this.backends.push({\n      instance: backend.backend(manager, context, backend.options),\n      preview: backend.preview || false,\n      transition: transition,\n      skipDispatchOnTransition: Boolean(backend.skipDispatchOnTransition)\n    });\n  });\n  this.nodes = {};\n} // DnD Backend API\n;\n\nvar MultiBackend = function (manager, context, options) {\n  return new _default(manager, context, options);\n};\n\nvar propTypes = {\n  exports: {}\n};\nvar reactIs$1 = {\n  exports: {}\n};\nvar reactIs_production_min = {};\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nreactIs_production_min.AsyncMode = l;\nreactIs_production_min.ConcurrentMode = m;\nreactIs_production_min.ContextConsumer = k;\nreactIs_production_min.ContextProvider = h;\nreactIs_production_min.Element = c;\nreactIs_production_min.ForwardRef = n;\nreactIs_production_min.Fragment = e;\nreactIs_production_min.Lazy = t;\nreactIs_production_min.Memo = r;\nreactIs_production_min.Portal = d;\nreactIs_production_min.Profiler = g;\nreactIs_production_min.StrictMode = f;\nreactIs_production_min.Suspense = p;\n\nreactIs_production_min.isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nreactIs_production_min.isConcurrentMode = A;\n\nreactIs_production_min.isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nreactIs_production_min.isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nreactIs_production_min.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nreactIs_production_min.isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nreactIs_production_min.isFragment = function (a) {\n  return z(a) === e;\n};\n\nreactIs_production_min.isLazy = function (a) {\n  return z(a) === t;\n};\n\nreactIs_production_min.isMemo = function (a) {\n  return z(a) === r;\n};\n\nreactIs_production_min.isPortal = function (a) {\n  return z(a) === d;\n};\n\nreactIs_production_min.isProfiler = function (a) {\n  return z(a) === g;\n};\n\nreactIs_production_min.isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nreactIs_production_min.isSuspense = function (a) {\n  return z(a) === p;\n};\n\nreactIs_production_min.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nreactIs_production_min.typeOf = z;\nvar reactIs_development = {};\n/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function () {\n    // nor polyfill, then a plain number is used for performance.\n    var hasSymbol = typeof Symbol === 'function' && Symbol.for;\n    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n    var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n    var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n    // (unstable) APIs that have been removed. Can we remove the symbols?\n\n    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n    var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n    var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n    var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\n    var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n    var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n    var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\n    var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\n    var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\n    var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\n    function isValidElementType(type) {\n      return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n      type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n    }\n\n    function typeOf(object) {\n      if (typeof object === 'object' && object !== null) {\n        var $$typeof = object.$$typeof;\n\n        switch ($$typeof) {\n          case REACT_ELEMENT_TYPE:\n            var type = object.type;\n\n            switch (type) {\n              case REACT_ASYNC_MODE_TYPE:\n              case REACT_CONCURRENT_MODE_TYPE:\n              case REACT_FRAGMENT_TYPE:\n              case REACT_PROFILER_TYPE:\n              case REACT_STRICT_MODE_TYPE:\n              case REACT_SUSPENSE_TYPE:\n                return type;\n\n              default:\n                var $$typeofType = type && type.$$typeof;\n\n                switch ($$typeofType) {\n                  case REACT_CONTEXT_TYPE:\n                  case REACT_FORWARD_REF_TYPE:\n                  case REACT_LAZY_TYPE:\n                  case REACT_MEMO_TYPE:\n                  case REACT_PROVIDER_TYPE:\n                    return $$typeofType;\n\n                  default:\n                    return $$typeof;\n                }\n\n            }\n\n          case REACT_PORTAL_TYPE:\n            return $$typeof;\n        }\n      }\n\n      return undefined;\n    } // AsyncMode is deprecated along with isAsyncMode\n\n\n    var AsyncMode = REACT_ASYNC_MODE_TYPE;\n    var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n    var ContextConsumer = REACT_CONTEXT_TYPE;\n    var ContextProvider = REACT_PROVIDER_TYPE;\n    var Element = REACT_ELEMENT_TYPE;\n    var ForwardRef = REACT_FORWARD_REF_TYPE;\n    var Fragment = REACT_FRAGMENT_TYPE;\n    var Lazy = REACT_LAZY_TYPE;\n    var Memo = REACT_MEMO_TYPE;\n    var Portal = REACT_PORTAL_TYPE;\n    var Profiler = REACT_PROFILER_TYPE;\n    var StrictMode = REACT_STRICT_MODE_TYPE;\n    var Suspense = REACT_SUSPENSE_TYPE;\n    var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n    function isAsyncMode(object) {\n      {\n        if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n          hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n          console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n        }\n      }\n      return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n    }\n\n    function isConcurrentMode(object) {\n      return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n    }\n\n    function isContextConsumer(object) {\n      return typeOf(object) === REACT_CONTEXT_TYPE;\n    }\n\n    function isContextProvider(object) {\n      return typeOf(object) === REACT_PROVIDER_TYPE;\n    }\n\n    function isElement(object) {\n      return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n    }\n\n    function isForwardRef(object) {\n      return typeOf(object) === REACT_FORWARD_REF_TYPE;\n    }\n\n    function isFragment(object) {\n      return typeOf(object) === REACT_FRAGMENT_TYPE;\n    }\n\n    function isLazy(object) {\n      return typeOf(object) === REACT_LAZY_TYPE;\n    }\n\n    function isMemo(object) {\n      return typeOf(object) === REACT_MEMO_TYPE;\n    }\n\n    function isPortal(object) {\n      return typeOf(object) === REACT_PORTAL_TYPE;\n    }\n\n    function isProfiler(object) {\n      return typeOf(object) === REACT_PROFILER_TYPE;\n    }\n\n    function isStrictMode(object) {\n      return typeOf(object) === REACT_STRICT_MODE_TYPE;\n    }\n\n    function isSuspense(object) {\n      return typeOf(object) === REACT_SUSPENSE_TYPE;\n    }\n\n    reactIs_development.AsyncMode = AsyncMode;\n    reactIs_development.ConcurrentMode = ConcurrentMode;\n    reactIs_development.ContextConsumer = ContextConsumer;\n    reactIs_development.ContextProvider = ContextProvider;\n    reactIs_development.Element = Element;\n    reactIs_development.ForwardRef = ForwardRef;\n    reactIs_development.Fragment = Fragment;\n    reactIs_development.Lazy = Lazy;\n    reactIs_development.Memo = Memo;\n    reactIs_development.Portal = Portal;\n    reactIs_development.Profiler = Profiler;\n    reactIs_development.StrictMode = StrictMode;\n    reactIs_development.Suspense = Suspense;\n    reactIs_development.isAsyncMode = isAsyncMode;\n    reactIs_development.isConcurrentMode = isConcurrentMode;\n    reactIs_development.isContextConsumer = isContextConsumer;\n    reactIs_development.isContextProvider = isContextProvider;\n    reactIs_development.isElement = isElement;\n    reactIs_development.isForwardRef = isForwardRef;\n    reactIs_development.isFragment = isFragment;\n    reactIs_development.isLazy = isLazy;\n    reactIs_development.isMemo = isMemo;\n    reactIs_development.isPortal = isPortal;\n    reactIs_development.isProfiler = isProfiler;\n    reactIs_development.isStrictMode = isStrictMode;\n    reactIs_development.isSuspense = isSuspense;\n    reactIs_development.isValidElementType = isValidElementType;\n    reactIs_development.typeOf = typeOf;\n  })();\n}\n\nif (process.env.NODE_ENV === 'production') {\n  reactIs$1.exports = reactIs_production_min;\n} else {\n  reactIs$1.exports = reactIs_development;\n}\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n/* eslint-disable no-unused-vars */\n\n\nvar getOwnPropertySymbols$1 = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols$1) {\n      symbols = getOwnPropertySymbols$1(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret$3 = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret$3;\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar printWarning$1 = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret$2 = ReactPropTypesSecret_1;\n  var loggedTypeFailures = {};\n  var has$1 = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning$1 = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes$1(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has$1(typeSpecs, typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$2);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning$1((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning$1('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\n\n\ncheckPropTypes$1.resetWarningCache = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n};\n\nvar checkPropTypes_1 = checkPropTypes$1;\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactIs$1 = reactIs$1.exports;\nvar assign = objectAssign;\nvar ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\nvar checkPropTypes = checkPropTypes_1;\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\n\nvar printWarning = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nvar factoryWithTypeCheckers = function (isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret$1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret$1);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!ReactIs$1.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n\n        if (type === 'symbol') {\n          return String(value);\n        }\n\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret$1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = assign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // falsy value can't be a Symbol\n\n\n    if (!propValue) {\n      return false;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar ReactPropTypesSecret = ReactPropTypesSecret_1;\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  } // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = reactIs$1.exports; // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n  var throwOnDirectAccess = true;\n  propTypes.exports = factoryWithTypeCheckers(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  propTypes.exports = factoryWithThrowingShims();\n}\n\nvar PropTypes = propTypes.exports;\n/**\n * Create the React Context\n */\n\nvar DndContext = /*#__PURE__*/createContext({\n  dragDropManager: undefined\n});\nvar HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));\n/**\r\n * Use invariant() to assert state which your program assumes to be true.\r\n *\r\n * Provide sprintf-style format (only %s is supported) and arguments\r\n * to provide information about what broke and what you were\r\n * expecting.\r\n *\r\n * The invariant message will be stripped in production, but the invariant\r\n * will remain to ensure logic does not differ in production.\r\n */\n\n\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nvar INIT_COORDS = 'dnd-core/INIT_COORDS';\nvar BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nvar PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nvar HOVER = 'dnd-core/HOVER';\nvar DROP = 'dnd-core/DROP';\nvar END_DRAG = 'dnd-core/END_DRAG';\n\nfunction setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}\n\nfunction _typeof$5(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$5 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$5 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$5(obj);\n} // cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\n\n\nfunction get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\n\nfunction without$1(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\n\nfunction isObject(input) {\n  return _typeof$5(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\n\nfunction xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\n\nfunction intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}\n\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\n\nfunction createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants$1(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants$1(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}\n\nfunction createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}\n\nfunction matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}\n\nfunction createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}\n\nfunction ownKeys$4(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$4(Object(source), true).forEach(function (key) {\n        _defineProperty$i(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$4(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$i(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread$4(_objectSpread$4({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}\n\nfunction createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}\n\nfunction createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}\n\nfunction _classCallCheck$g(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$g(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$g(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$g(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$g(Constructor, staticProps);\n  return Constructor;\n}\n\nvar DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck$g(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass$g(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\n\n\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n} // Inlined version of the `symbol-observable` polyfill\n\n\nvar $$observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject$1(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n} // Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\n\n\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject$1(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nvar strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\n\nfunction areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\n\nfunction areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$3(Object(source), true).forEach(function (key) {\n        _defineProperty$h(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$3(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$h(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar initialState$1 = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\n\nfunction reduce$5() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState$1;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread$3(_objectSpread$3({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState$1;\n\n    default:\n      return state;\n  }\n}\n\nvar ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nvar ADD_TARGET = 'dnd-core/ADD_TARGET';\nvar REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nvar REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\n\nfunction addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\n\nfunction addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\n\nfunction removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\n\nfunction removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$2(Object(source), true).forEach(function (key) {\n        _defineProperty$g(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$2(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$g(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\n\nfunction reduce$4() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        targetIds: without$1(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction reduce$3() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}\n\nvar NONE = [];\nvar ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nfunction areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}\n\nfunction reduce$2() {\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}\n\nfunction reduce$1() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty$f(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$f(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: reduce$2(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread$1(_objectSpread$1({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: reduce$5(state.dragOffset, action),\n    refCount: reduce$3(state.refCount, action),\n    dragOperation: reduce$4(state.dragOperation, action),\n    stateId: reduce$1(state.stateId)\n  };\n}\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\n\nfunction add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\n\nfunction subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\n\nfunction getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\n\nfunction getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}\n\nfunction _classCallCheck$f(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$f(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$f(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$f(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$f(Constructor, staticProps);\n  return Constructor;\n}\n\nvar DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck$f(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass$f(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      }; // undefined on initial render\n\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset$1() {\n      return getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset$1() {\n      return getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();\n\nvar nextUniqueId = 0;\n\nfunction getNextUniqueId() {\n  return nextUniqueId++;\n}\n\nfunction _typeof$4(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$4 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$4 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$4(obj);\n}\n\nfunction validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\n\nfunction validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\n\nfunction validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof$4(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n} // Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\n\n\nfunction rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\n\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nfunction asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();\n\nfunction _classCallCheck$e(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$e(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$e(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$e(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$e(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _slicedToArray$5(arr, i) {\n  return _arrayWithHoles$5(arr) || _iterableToArrayLimit$5(arr, i) || _unsupportedIterableToArray$6(arr, i) || _nonIterableRest$5();\n}\n\nfunction _nonIterableRest$5() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$6(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$6(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$6(o, minLen);\n}\n\nfunction _arrayLikeToArray$6(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$5(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$5(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray$5(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nvar HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck$e(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass$e(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource$1(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget$1(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource$1(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget$1(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();\n\nfunction createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nvar _excluded = [\"children\"];\n\nfunction _slicedToArray$4(arr, i) {\n  return _arrayWithHoles$4(arr) || _iterableToArrayLimit$4(arr, i) || _unsupportedIterableToArray$5(arr, i) || _nonIterableRest$4();\n}\n\nfunction _nonIterableRest$4() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$5(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$5(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$5(o, minLen);\n}\n\nfunction _arrayLikeToArray$5(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$4(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$4(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nvar DndProvider$1 = /*#__PURE__*/memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray$4(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}\n\nfunction _classCallCheck$d(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$d(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$d(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$d(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$d(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$e(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\n\nvar DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck$d(this, DragSourceMonitorImpl);\n\n    _defineProperty$e(this, \"internalMonitor\", void 0);\n\n    _defineProperty$e(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass$d(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();\n\nfunction _classCallCheck$c(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$c(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$c(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$c(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$c(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$d(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar isCallingCanDrop = false;\n\nvar DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck$c(this, DropTargetMonitorImpl);\n\n    _defineProperty$d(this, \"internalMonitor\", void 0);\n\n    _defineProperty$d(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass$c(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null; // When passed a node, call the hook straight away.\n\n    if (! /*#__PURE__*/isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nfunction wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return /*#__PURE__*/cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return /*#__PURE__*/cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}\n\nfunction _typeof$3(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$3 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$3 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$3(obj);\n}\n\nfunction isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof$3(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}\n\nfunction shallowEqual(objA, objB, compare, compareContext) {\n  var compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction _classCallCheck$b(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$b(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$b(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$b(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$b(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$c(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck$b(this, SourceConnector);\n\n    _defineProperty$c(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty$c(this, \"handlerId\", null);\n\n    _defineProperty$c(this, \"dragSourceRef\", null);\n\n    _defineProperty$c(this, \"dragSourceNode\", void 0);\n\n    _defineProperty$c(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty$c(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty$c(this, \"dragPreviewRef\", null);\n\n    _defineProperty$c(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty$c(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty$c(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty$c(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty$c(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass$b(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();\n\nfunction _classCallCheck$a(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$a(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$a(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$a(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$a(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$b(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck$a(this, TargetConnector);\n\n    _defineProperty$b(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty$b(this, \"handlerId\", null);\n\n    _defineProperty$b(this, \"dropTargetRef\", null);\n\n    _defineProperty$b(this, \"dropTargetNode\", void 0);\n\n    _defineProperty$b(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty$b(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty$b(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty$b(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty$b(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty$b(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass$a(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();\n\nfunction registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\n\nfunction registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}\n\nfunction _typeof$2(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$2 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$2 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$2(obj);\n}\n\nfunction isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\n\nfunction isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\n\nfunction isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\n\nfunction checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\n\nfunction isObjectLike(input) {\n  return _typeof$2(input) === 'object' && input !== null;\n}\n\nfunction isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\n\nvar reactIs = reactIs$1.exports;\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nvar hoistNonReactStatics_cjs = hoistNonReactStatics;\nvar hoistStatics = hoistNonReactStatics_cjs;\n\nfunction _typeof$1(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$1 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$1 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$1(obj);\n}\n\nfunction _classCallCheck$9(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$9(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$9(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$9(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$9(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof$1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty$a(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\n\nfunction DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck$9(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty$a(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"ref\", /*#__PURE__*/createRef());\n\n        _defineProperty$a(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass$9(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof$1(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty$a(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty$a(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck$8(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$8(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$8(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$8(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$8(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$9(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck$8(this, DragSourceImpl);\n\n    _defineProperty$9(this, \"spec\", void 0);\n\n    _defineProperty$9(this, \"monitor\", void 0);\n\n    _defineProperty$9(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass$8(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();\n\nfunction useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\n\nfunction useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}\n\nfunction useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}\n\nfunction _slicedToArray$3(arr, i) {\n  return _arrayWithHoles$3(arr) || _iterableToArrayLimit$3(arr, i) || _unsupportedIterableToArray$4(arr, i) || _nonIterableRest$3();\n}\n\nfunction _nonIterableRest$3() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$4(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$4(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);\n}\n\nfunction _arrayLikeToArray$4(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$3(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$3(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray$3(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$3(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$3(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$3(arr);\n}\n\nfunction _arrayLikeToArray$3(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}\n\nfunction useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}\n\nfunction useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) if (!equal(a[i], b[i])) return false;\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise\n\n\n  return a !== a && b !== b;\n};\n\nfunction _slicedToArray$2(arr, i) {\n  return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _unsupportedIterableToArray$2(arr, i) || _nonIterableRest$2();\n}\n\nfunction _nonIterableRest$2() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\n\nfunction _arrayLikeToArray$2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$2(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$2(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\n\nfunction useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!fastDeepEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray$1(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}\n\nfunction useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}\n\nfunction useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\n\nfunction useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\n\nfunction useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\n\nfunction useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}\n\nfunction _classCallCheck$7(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$7(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$7(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$7(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$7(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$8(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck$7(this, DropTargetImpl);\n\n    _defineProperty$8(this, \"spec\", void 0);\n\n    _defineProperty$8(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass$7(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();\n\nfunction useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}\n\nfunction useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}\n\nfunction useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}\n\nfunction useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\n\nfunction useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar PreviewPortalContext = /*#__PURE__*/React.createContext(null);\n\nvar DndProvider = function DndProvider(props) {\n  var previewPortal = useRef();\n  return /*#__PURE__*/React.createElement(PreviewPortalContext.Provider, {\n    value: previewPortal.current\n  }, /*#__PURE__*/React.createElement(DndProvider$1, _extends({\n    backend: MultiBackend\n  }, props)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: previewPortal\n  }));\n};\n\nDndProvider.propTypes = {\n  manager: PropTypes.any,\n  context: PropTypes.any,\n  options: PropTypes.any,\n  debugMode: PropTypes.bool\n};\n({\n  generator: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n}); // cheap lodash replacements\n\nfunction memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\n\nfunction without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n\nfunction union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}\n\nfunction _classCallCheck$6(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$6(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$6(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$6(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$6(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$7(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck$6(this, EnterLeaveCounter);\n\n    _defineProperty$7(this, \"entered\", []);\n\n    _defineProperty$7(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass$6(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nvar isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nvar isSafari = memoize(function () {\n  return Boolean(window.safari);\n});\n\nfunction _classCallCheck$5(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$5(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$5(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$5(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$5(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$6(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck$5(this, MonotonicInterpolant);\n\n    _defineProperty$6(this, \"xs\", void 0);\n\n    _defineProperty$6(this, \"ys\", void 0);\n\n    _defineProperty$6(this, \"c1s\", void 0);\n\n    _defineProperty$6(this, \"c2s\", void 0);\n\n    _defineProperty$6(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass$5(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nvar ELEMENT_NODE$1 = 1;\n\nfunction getNodeClientOffset$1(node) {\n  var el = node.nodeType === ELEMENT_NODE$1 ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\n\nfunction getEventClientOffset$1(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset$1(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}\n\nvar FILE = '__NATIVE_FILE__';\nvar URL = '__NATIVE_URL__';\nvar TEXT = '__NATIVE_TEXT__';\nvar HTML = '__NATIVE_HTML__';\nvar NativeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  FILE: FILE,\n  URL: URL,\n  TEXT: TEXT,\n  HTML: HTML\n});\n\nfunction getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}\n\nvar _nativeTypesConfig;\n\nfunction _defineProperty$5(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty$5(_nativeTypesConfig, FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty$5(_nativeTypesConfig, HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty$5(_nativeTypesConfig, URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty$5(_nativeTypesConfig, TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);\n\nfunction _classCallCheck$4(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$4(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$4(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$4(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$4(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$4(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck$4(this, NativeDragSource);\n\n    _defineProperty$4(this, \"item\", void 0);\n\n    _defineProperty$4(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass$4(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();\n\nfunction createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\n\nfunction matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}\n\nfunction _classCallCheck$3(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$3(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$3(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$3(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$3(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar OptionsReader$1 = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck$3(this, OptionsReader);\n\n    _defineProperty$3(this, \"ownerDocument\", null);\n\n    _defineProperty$3(this, \"globalContext\", void 0);\n\n    _defineProperty$3(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass$3(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty$2(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck$2(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$2(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$2(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$2(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$2(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck$2(this, HTML5BackendImpl);\n\n    _defineProperty$2(this, \"options\", void 0);\n\n    _defineProperty$2(this, \"actions\", void 0);\n\n    _defineProperty$2(this, \"monitor\", void 0);\n\n    _defineProperty$2(this, \"registry\", void 0);\n\n    _defineProperty$2(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty$2(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty$2(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty$2(this, \"sourceNodes\", new Map());\n\n    _defineProperty$2(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty$2(this, \"dragStartSourceIds\", null);\n\n    _defineProperty$2(this, \"dropTargetIds\", []);\n\n    _defineProperty$2(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty$2(this, \"currentNativeSource\", null);\n\n    _defineProperty$2(this, \"currentNativeHandle\", null);\n\n    _defineProperty$2(this, \"currentDragSourceNode\", null);\n\n    _defineProperty$2(this, \"altKeyPressed\", false);\n\n    _defineProperty$2(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty$2(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty$2(this, \"dragOverTargetIds\", null);\n\n    _defineProperty$2(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset$1(source) || null;\n    });\n\n    _defineProperty$2(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty$2(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty$2(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty$2(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset$1(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset$1(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty$2(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset$1(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty$2(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset$1(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader$1(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass$2(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();\n\nvar emptyImage;\n\nfunction getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}\n\nvar HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};\n\nvar ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {})); // Used for MouseEvent.buttons (note the s on the end).\n\n\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nfunction eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\n\nfunction eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\n\nfunction isTouchEvent(e) {\n  return !!e.targetTouches;\n}\n\nvar ELEMENT_NODE = 1;\n\nfunction getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\n\nfunction getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n}\n\nfunction getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}\n\nfunction distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\n\nfunction inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (var i = 0; i < angleRanges.length; ++i) {\n    if ((angleRanges[i].start == null || angle >= angleRanges[i].start) && (angleRanges[i].end == null || angle <= angleRanges[i].end)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n\n  try {\n    addEventListener('test', function () {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return true;\n      }\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n}();\n\nfunction _classCallCheck$1(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$1(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$1(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$1(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$1(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(args, context) {\n    _classCallCheck$1(this, OptionsReader);\n\n    _defineProperty$1(this, \"args\", void 0);\n\n    _defineProperty$1(this, \"context\", void 0);\n\n    this.args = args;\n    this.context = context;\n  }\n\n  _createClass$1(OptionsReader, [{\n    key: \"delay\",\n    get: function get() {\n      var _this$args$delay;\n\n      return (_this$args$delay = this.args.delay) !== null && _this$args$delay !== void 0 ? _this$args$delay : 0;\n    }\n  }, {\n    key: \"scrollAngleRanges\",\n    get: function get() {\n      return this.args.scrollAngleRanges;\n    }\n  }, {\n    key: \"getDropTargetElementsAtPoint\",\n    get: function get() {\n      return this.args.getDropTargetElementsAtPoint;\n    }\n  }, {\n    key: \"ignoreContextMenu\",\n    get: function get() {\n      var _this$args$ignoreCont;\n\n      return (_this$args$ignoreCont = this.args.ignoreContextMenu) !== null && _this$args$ignoreCont !== void 0 ? _this$args$ignoreCont : false;\n    }\n  }, {\n    key: \"enableHoverOutsideTarget\",\n    get: function get() {\n      var _this$args$enableHove;\n\n      return (_this$args$enableHove = this.args.enableHoverOutsideTarget) !== null && _this$args$enableHove !== void 0 ? _this$args$enableHove : false;\n    }\n  }, {\n    key: \"enableKeyboardEvents\",\n    get: function get() {\n      var _this$args$enableKeyb;\n\n      return (_this$args$enableKeyb = this.args.enableKeyboardEvents) !== null && _this$args$enableKeyb !== void 0 ? _this$args$enableKeyb : false;\n    }\n  }, {\n    key: \"enableMouseEvents\",\n    get: function get() {\n      var _this$args$enableMous;\n\n      return (_this$args$enableMous = this.args.enableMouseEvents) !== null && _this$args$enableMous !== void 0 ? _this$args$enableMous : false;\n    }\n  }, {\n    key: \"enableTouchEvents\",\n    get: function get() {\n      var _this$args$enableTouc;\n\n      return (_this$args$enableTouc = this.args.enableTouchEvents) !== null && _this$args$enableTouc !== void 0 ? _this$args$enableTouc : true;\n    }\n  }, {\n    key: \"touchSlop\",\n    get: function get() {\n      return this.args.touchSlop || 0;\n    }\n  }, {\n    key: \"delayTouchStart\",\n    get: function get() {\n      var _ref, _this$args$delayTouch, _this$args, _this$args2;\n\n      return (_ref = (_this$args$delayTouch = (_this$args = this.args) === null || _this$args === void 0 ? void 0 : _this$args.delayTouchStart) !== null && _this$args$delayTouch !== void 0 ? _this$args$delayTouch : (_this$args2 = this.args) === null || _this$args2 === void 0 ? void 0 : _this$args2.delay) !== null && _ref !== void 0 ? _ref : 0;\n    }\n  }, {\n    key: \"delayMouseStart\",\n    get: function get() {\n      var _ref2, _this$args$delayMouse, _this$args3, _this$args4;\n\n      return (_ref2 = (_this$args$delayMouse = (_this$args3 = this.args) === null || _this$args3 === void 0 ? void 0 : _this$args3.delayMouseStart) !== null && _this$args$delayMouse !== void 0 ? _this$args$delayMouse : (_this$args4 = this.args) === null || _this$args4 === void 0 ? void 0 : _this$args4.delay) !== null && _ref2 !== void 0 ? _ref2 : 0;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$context;\n\n      if ((_this$context = this.context) !== null && _this$context !== void 0 && _this$context.document) {\n        return this.context.document;\n      }\n\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$args5;\n\n      return ((_this$args5 = this.args) === null || _this$args5 === void 0 ? void 0 : _this$args5.rootElement) || this.document;\n    }\n  }]);\n\n  return OptionsReader;\n}();\n\nvar _eventNames;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar eventNames = (_eventNames = {}, _defineProperty(_eventNames, ListenerType.mouse, {\n  start: 'mousedown',\n  move: 'mousemove',\n  end: 'mouseup',\n  contextmenu: 'contextmenu'\n}), _defineProperty(_eventNames, ListenerType.touch, {\n  start: 'touchstart',\n  move: 'touchmove',\n  end: 'touchend'\n}), _defineProperty(_eventNames, ListenerType.keyboard, {\n  keydown: 'keydown'\n}), _eventNames);\n\nvar TouchBackendImpl = /*#__PURE__*/function () {\n  // React-DnD Dependencies\n  // Internal State\n  // Patch for iOS 13, discussion over #1585\n  function TouchBackendImpl(manager, context, options) {\n    var _this = this;\n\n    _classCallCheck(this, TouchBackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"sourceNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", void 0);\n\n    _defineProperty(this, \"targetNodes\", void 0);\n\n    _defineProperty(this, \"_mouseClientOffset\", void 0);\n\n    _defineProperty(this, \"_isScrolling\", void 0);\n\n    _defineProperty(this, \"listenerTypes\", void 0);\n\n    _defineProperty(this, \"moveStartSourceIds\", void 0);\n\n    _defineProperty(this, \"waitingForDelay\", void 0);\n\n    _defineProperty(this, \"timeout\", void 0);\n\n    _defineProperty(this, \"dragOverTargetIds\", void 0);\n\n    _defineProperty(this, \"draggedSourceNode\", void 0);\n\n    _defineProperty(this, \"draggedSourceNodeRemovalObserver\", void 0);\n\n    _defineProperty(this, \"lastTargetTouchFallback\", void 0);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var element = _this.sourceNodes.get(sourceId);\n\n      return element && getNodeClientOffset(element);\n    });\n\n    _defineProperty(this, \"handleTopMoveStartCapture\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      _this.moveStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleMoveStart\", function (sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(_this.moveStartSourceIds)) {\n        _this.moveStartSourceIds.unshift(sourceId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMoveStart\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      var clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          _this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        _this._mouseClientOffset = clientOffset;\n      }\n\n      _this.waitingForDelay = false;\n    });\n\n    _defineProperty(this, \"handleTopMoveStartDelay\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      var delay = e.type === eventNames.touch.start ? _this.options.delayTouchStart : _this.options.delayMouseStart;\n      _this.timeout = setTimeout(_this.handleTopMoveStart.bind(_this, e), delay);\n      _this.waitingForDelay = true;\n    });\n\n    _defineProperty(this, \"handleTopMoveCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleMove\", function (_evt, targetId) {\n      if (_this.dragOverTargetIds) {\n        _this.dragOverTargetIds.unshift(targetId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMove\", function (e) {\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      if (!_this.document || _this.waitingForDelay) {\n        return;\n      }\n\n      var moveStartSourceIds = _this.moveStartSourceIds,\n          dragOverTargetIds = _this.dragOverTargetIds;\n      var enableHoverOutsideTarget = _this.options.enableHoverOutsideTarget;\n      var clientOffset = getEventClientOffset(e, _this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (_this._isScrolling || !_this.monitor.isDragging() && inAngleRanges(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, _this.options.scrollAngleRanges)) {\n        _this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!_this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      _this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (_this.options.touchSlop ? _this.options.touchSlop : 0)) {\n        _this.moveStartSourceIds = undefined;\n\n        _this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: _this._mouseClientOffset,\n          getSourceClientOffset: _this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!_this.monitor.isDragging()) {\n        return;\n      }\n\n      var sourceNode = _this.sourceNodes.get(_this.monitor.getSourceId());\n\n      _this.installSourceNodeRemovalObserver(sourceNode);\n\n      _this.actions.publishDragSource();\n\n      if (e.cancelable) e.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      var dragOverTargetNodes = (dragOverTargetIds || []).map(function (key) {\n        return _this.targetNodes.get(key);\n      }).filter(function (e) {\n        return !!e;\n      }); // Get the a ordered list of nodes that are touched by\n\n      var elementsAtPoint = _this.options.getDropTargetElementsAtPoint ? _this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : _this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      var elementsAtPointExtended = [];\n\n      for (var nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (currentNode && elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      var orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      }) // Map back the nodes elements to targetIds\n      .map(function (node) {\n        return _this._getDropTargetId(node);\n      }) // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      }); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (var targetId in _this.targetNodes) {\n          var targetNode = _this.targetNodes.get(targetId);\n\n          if (sourceNode && targetNode && targetNode.contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n\n      _this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    });\n\n    _defineProperty(this, \"_getDropTargetId\", function (node) {\n      var keys = _this.targetNodes.keys();\n\n      var next = keys.next();\n\n      while (next.done === false) {\n        var targetId = next.value;\n\n        if (node === _this.targetNodes.get(targetId)) {\n          return targetId;\n        } else {\n          next = keys.next();\n        }\n      }\n\n      return undefined;\n    });\n\n    _defineProperty(this, \"handleTopMoveEndCapture\", function (e) {\n      _this._isScrolling = false;\n      _this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!_this.monitor.isDragging() || _this.monitor.didDrop()) {\n        _this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      if (e.cancelable) e.preventDefault();\n      _this._mouseClientOffset = {};\n\n      _this.uninstallSourceNodeRemovalObserver();\n\n      _this.actions.drop();\n\n      _this.actions.endDrag();\n    });\n\n    _defineProperty(this, \"handleCancelOnEscape\", function (e) {\n      if (e.key === 'Escape' && _this.monitor.isDragging()) {\n        _this._mouseClientOffset = {};\n\n        _this.uninstallSourceNodeRemovalObserver();\n\n        _this.actions.endDrag();\n      }\n    });\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = new Map();\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.targetNodes = new Map();\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(TouchBackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragOverTargetI;\n\n      return {\n        sourceNodes: this.sourceNodes.size,\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        targetNodes: this.targetNodes.size,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      invariant(!TouchBackendImpl.isSetUp, 'Cannot have two Touch backends at the same time.');\n      TouchBackendImpl.isSetUp = true;\n      this.addEventListener(root, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(root, 'move', this.handleTopMove);\n      this.addEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.addEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.addEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      TouchBackendImpl.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(root, 'start', this.handleTopMoveStart);\n      this.removeEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(root, 'move', this.handleTopMove);\n      this.removeEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.removeEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.removeEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node) {\n      var _this2 = this;\n\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes.set(sourceId, node);\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        _this2.sourceNodes.delete(sourceId);\n\n        _this2.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this3.sourcePreviewNodes.delete(sourceId);\n\n        _this3.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var root = this.options.rootElement;\n\n      if (!this.document || !root) {\n        return function () {\n          /* noop */\n        };\n      }\n\n      var handleMove = function handleMove(e) {\n        if (!_this4.document || !root || !_this4.monitor.isDragging()) {\n          return;\n        }\n\n        var coords;\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n\n\n        var droppedOn = coords != null ? _this4.document.elementFromPoint(coords.x, coords.y) : undefined;\n        var childMatch = droppedOn && node.contains(droppedOn);\n\n        if (droppedOn === node || childMatch) {\n          return _this4.handleMove(e, targetId);\n        }\n      };\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n\n\n      this.addEventListener(this.document.body, 'move', handleMove);\n      this.targetNodes.set(targetId, node);\n      return function () {\n        if (_this4.document) {\n          _this4.targetNodes.delete(targetId);\n\n          _this4.removeEventListener(_this4.document.body, 'move', handleMove);\n        }\n      };\n    }\n  }, {\n    key: \"getTopMoveStartHandler\",\n    value: function getTopMoveStartHandler() {\n      if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: \"installSourceNodeRemovalObserver\",\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new MutationObserver(function () {\n        if (node && !node.parentElement) {\n          _this5.resurrectSourceNode();\n\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n\n      if (!node || !node.parentElement) {\n        return;\n      }\n\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"resurrectSourceNode\",\n    value: function resurrectSourceNode() {\n      if (this.document && this.draggedSourceNode) {\n        this.draggedSourceNode.style.display = 'none';\n        this.draggedSourceNode.removeAttribute('data-reactid');\n        this.document.body.appendChild(this.draggedSourceNode);\n      }\n    }\n  }, {\n    key: \"uninstallSourceNodeRemovalObserver\",\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n\n      this.draggedSourceNodeRemovalObserver = undefined;\n      this.draggedSourceNode = undefined;\n    }\n  }]);\n\n  return TouchBackendImpl;\n}();\n\n_defineProperty(TouchBackendImpl, \"isSetUp\", void 0);\n\nvar TouchBackend = function createBackend(manager) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new TouchBackendImpl(manager, context, options);\n};\n\nvar HTML5toTouch = {\n  backends: [{\n    backend: HTML5Backend,\n    transition: MouseTransition\n  }, {\n    backend: TouchBackend,\n    options: {\n      enableMouseEvents: true\n    },\n    preview: true,\n    transition: TouchTransition\n  }]\n};\nconst COLUMNS = 'abcdefgh'.split('');\nconst chessboardPropTypes = {\n  // time in milliseconds for piece to slide to target square. Only used when the position is programmatically changed\n  animationDuration: PropTypes.number,\n  // whether or not arrows can be drawn with right click and dragging\n  areArrowsAllowed: PropTypes.bool,\n  // if pieces are draggable\n  arePiecesDraggable: PropTypes.bool,\n  // if premoves are allowed\n  arePremovesAllowed: PropTypes.bool,\n  // Orientation of the board\n  boardOrientation: PropTypes.oneOf(['white', 'black']),\n  // width of board in pixels. for responsive width show useChessBoardSize/useScreenSize example\n  boardWidth: PropTypes.number,\n  // if premoves should be cleared on right click\n  clearPremovesOnRightClick: PropTypes.bool,\n  // array of custom arrows to draw on the board. Each arrow within the array must be an array of length 2 with strings denoting the from and to square to draw the arrow e.g. [ ['a3', 'a5'], ['g1', 'f3'] ].\n  customArrows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),\n  // string with rgb or hex value to colour drawn arrows\n  customArrowColor: PropTypes.string,\n  // board style object e.g. { borderRadius: '5px', boxShadow: `0 5px 15px rgba(0, 0, 0, 0.5)`}\n  customBoardStyle: PropTypes.object,\n  // dark square style object e.g. { backgroundColor: '#B58863' }\n  customDarkSquareStyle: PropTypes.object,\n  // current drop square style object e.g. { backgroundColor: 'sienna' }\n  customDropSquareStyle: PropTypes.object,\n  // light square style object e.g. { backgroundColor: '#F0D9B5' }\n  customLightSquareStyle: PropTypes.object,\n  // pieces object where each piece returns JSX to render. { wK: ({ isDragging: boolean, squareWidth: pixels, droppedPiece: piece string, targetSquare: square string, sourceSquare: square string }) => jsx }\n  customPieces: PropTypes.object,\n  // premove highlight dark square style object e.g. { backgroundColor: '#F0D9B5' }\n  customPremoveDarkSquareStyle: PropTypes.object,\n  // premove highlight light square style object e.g. { backgroundColor: '#F0D9B5' }\n  customPremoveLightSquareStyle: PropTypes.object,\n  // custom squares style object. e.g. {'e4': {backgroundColor: 'orange'}, ...}\n  customSquareStyles: PropTypes.object,\n  // behavior of pieces when dropped off the board. 'snapback' brings the piece back to it's original square, 'trash' deletes the piece from the board\n  dropOffBoardAction: PropTypes.oneOf(['snapback', 'trash']),\n  // board identifier, necessary if more than one board is mounted for drag and drop.\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  // function called when a piece drag is initiated. Returns if piece is draggable ({ piece: string, sourceSquare: string }) => bool\n  isDraggablePiece: PropTypes.func,\n  // user function that receives current position object when position changes. (currentPosition: object) => void\n  getPositionObject: PropTypes.func,\n  // user function that is run when piece is dragged over a square (square: string) => void\n  onDragOverSquare: PropTypes.func,\n  // user function that is run when mouse leaves a square (square: string) => void\n  onMouseOutSquare: PropTypes.func,\n  // user function that is run when mouse is over a square (square: string) => void\n  onMouseOverSquare: PropTypes.func,\n  // user function that is run when piece is clicked (piece: string) => void\n  onPieceClick: PropTypes.func,\n  // user function that is run when piece is dropped on a square ({ sourceSquare: string, targetSquare: string, piece: string }) => void\n  onPieceDrop: PropTypes.func,\n  // user function that is run when a square is clicked (square: string) => void\n  onSquareClick: PropTypes.func,\n  // user function that is run when a square is right clicked (square: string) => void\n  onSquareRightClick: PropTypes.func,\n  // FEN string or a position object ({ e5: 'wK', e4: 'wP', e7: 'bK' })\n  position: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  // show file character and rank numbers (a..h, 1..8)\n  showBoardNotation: PropTypes.bool // show spare pieces above and below board.\n  // showSparePieces: PropTypes.bool\n\n};\nconst chessboardDefaultProps = {\n  animationDuration: 300,\n  areArrowsAllowed: true,\n  arePiecesDraggable: true,\n  arePremovesAllowed: false,\n  boardOrientation: 'white',\n  boardWidth: 560,\n  clearPremovesOnRightClick: true,\n  customArrows: [],\n  customArrowColor: 'rgb(255,170,0)',\n  customBoardStyle: {},\n  customDarkSquareStyle: {\n    backgroundColor: '#B58863'\n  },\n  customDropSquareStyle: {\n    boxShadow: 'inset 0 0 1px 6px rgba(255,255,255,0.75)'\n  },\n  customLightSquareStyle: {\n    backgroundColor: '#F0D9B5'\n  },\n  customPieces: {},\n  customPremoveDarkSquareStyle: {\n    backgroundColor: '#A42323'\n  },\n  customPremoveLightSquareStyle: {\n    backgroundColor: '#BD2828'\n  },\n  customSquareStyles: {},\n  dropOffBoardAction: 'snapback',\n  id: 0,\n  isDraggablePiece: () => true,\n  getPositionObject: () => {},\n  onDragOverSquare: () => {},\n  onMouseOutSquare: () => {},\n  onMouseOverSquare: () => {},\n  onPieceClick: () => {},\n  onPieceDrop: () => true,\n  onSquareClick: () => {},\n  onSquareRightClick: () => {},\n  position: 'start',\n  showBoardNotation: true // showSparePieces: false\n\n};\nconst startPositionObject = {\n  a8: 'bR',\n  b8: 'bN',\n  c8: 'bB',\n  d8: 'bQ',\n  e8: 'bK',\n  f8: 'bB',\n  g8: 'bN',\n  h8: 'bR',\n  a7: 'bP',\n  b7: 'bP',\n  c7: 'bP',\n  d7: 'bP',\n  e7: 'bP',\n  f7: 'bP',\n  g7: 'bP',\n  h7: 'bP',\n  a2: 'wP',\n  b2: 'wP',\n  c2: 'wP',\n  d2: 'wP',\n  e2: 'wP',\n  f2: 'wP',\n  g2: 'wP',\n  h2: 'wP',\n  a1: 'wR',\n  b1: 'wN',\n  c1: 'wB',\n  d1: 'wQ',\n  e1: 'wK',\n  f1: 'wB',\n  g1: 'wN',\n  h1: 'wR'\n};\nconst whiteColumnValues = {\n  a: 0,\n  b: 1,\n  c: 2,\n  d: 3,\n  e: 4,\n  f: 5,\n  g: 6,\n  h: 7\n};\nconst blackColumnValues = {\n  a: 7,\n  b: 6,\n  c: 5,\n  d: 4,\n  e: 3,\n  f: 2,\n  g: 1,\n  h: 0\n};\nconst whiteRows = [7, 6, 5, 4, 3, 2, 1, 0];\nconst blackRows = [0, 1, 2, 3, 4, 5, 6, 7];\n\nconst getRelativeCoords = (boardOrientation, boardWidth, square) => {\n  const squareWidth = boardWidth / 8;\n  const columns = boardOrientation === 'white' ? whiteColumnValues : blackColumnValues;\n  const rows = boardOrientation === 'white' ? whiteRows : blackRows;\n  const x = columns[square[0]] * squareWidth + squareWidth / 2;\n  const y = rows[square[1] - 1] * squareWidth + squareWidth / 2;\n  return {\n    x,\n    y\n  };\n};\n\nconst isDifferentFromStart = newPosition => {\n  let isDifferent = false;\n  Object.keys(startPositionObject).forEach(square => {\n    if (newPosition[square] !== startPositionObject[square]) isDifferent = true;\n  });\n  Object.keys(newPosition).forEach(square => {\n    if (startPositionObject[square] !== newPosition[square]) isDifferent = true;\n  });\n  return isDifferent;\n};\n\nconst getPositionDifferences = (currentPosition, newPosition) => {\n  const difference = {\n    removed: {},\n    added: {}\n  }; // removed from current\n\n  Object.keys(currentPosition).forEach(square => {\n    if (newPosition[square] !== currentPosition[square]) difference.removed[square] = currentPosition[square];\n  }); // added from new\n\n  Object.keys(newPosition).forEach(square => {\n    if (currentPosition[square] !== newPosition[square]) difference.added[square] = newPosition[square];\n  });\n  return difference;\n};\n\nfunction isString(s) {\n  return typeof s === 'string';\n}\n\nfunction convertPositionToObject(position) {\n  if (position === 'start') return fenToObj('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR');\n  if (validFen(position)) return fenToObj(position);\n  if (validPositionObject(position)) return position;\n  return {};\n}\n\nfunction fenToObj(fen) {\n  if (!validFen(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, '');\n  const rows = fen.split('/');\n  const position = {};\n  let currentRow = 8;\n\n  for (let i = 0; i < 8; i++) {\n    const row = rows[i].split('');\n    let colIdx = 0; // loop through each character in the FEN section\n\n    for (let j = 0; j < row.length; j++) {\n      // number / empty squares\n      if (row[j].search(/[1-8]/) !== -1) {\n        const numEmptySquares = parseInt(row[j], 10);\n        colIdx = colIdx + numEmptySquares;\n      } else {\n        // piece\n        const square = COLUMNS[colIdx] + currentRow;\n        position[square] = fenToPieceCode(row[j]);\n        colIdx = colIdx + 1;\n      }\n    }\n\n    currentRow = currentRow - 1;\n  }\n\n  return position;\n}\n\nfunction expandFenEmptySquares(fen) {\n  return fen.replace(/8/g, '11111111').replace(/7/g, '1111111').replace(/6/g, '111111').replace(/5/g, '11111').replace(/4/g, '1111').replace(/3/g, '111').replace(/2/g, '11');\n}\n\nfunction validFen(fen) {\n  if (!isString(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, ''); // expand the empty square numbers to just 1s\n\n  fen = expandFenEmptySquares(fen); // FEN should be 8 sections separated by slashes\n\n  const chunks = fen.split('/');\n  if (chunks.length !== 8) return false; // check each section\n\n  for (let i = 0; i < 8; i++) {\n    if (chunks[i].length !== 8 || chunks[i].search(/[^kqrnbpKQRNBP1]/) !== -1) {\n      return false;\n    }\n  }\n\n  return true;\n} // convert FEN piece code to bP, wK, etc\n\n\nfunction fenToPieceCode(piece) {\n  // black piece\n  if (piece.toLowerCase() === piece) {\n    return 'b' + piece.toUpperCase();\n  } // white piece\n\n\n  return 'w' + piece.toUpperCase();\n}\n\nfunction validSquare(square) {\n  return isString(square) && square.search(/^[a-h][1-8]$/) !== -1;\n}\n\nfunction validPieceCode(code) {\n  return isString(code) && code.search(/^[bw][KQRNBP]$/) !== -1;\n}\n\nfunction validPositionObject(pos) {\n  if (pos === null || typeof pos !== 'object') return false;\n\n  for (const i in pos) {\n    if (!pos[i]) continue;\n\n    if (!validSquare(i) || !validPieceCode(pos[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nconst defaultPieces = {\n  wP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  wR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 34,14 L 31,17 L 14,17 L 11,14\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,17 L 31,29.5 L 14,29.5 L 14,17\",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  wB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#ffffff',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,33.5 C 18,32.5 27,32.5 33,33.5\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      })]\n    })\n  }),\n  wK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  bP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  bR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,35.5 L 33,35.5 L 33,35.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 13,31.5 L 32,31.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 31,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 31,16.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \",\n        style: {\n          fill: '#ffffff',\n          stroke: 'none'\n        }\n      })]\n    })\n  }),\n  bB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#000000',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#000000',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\",\n        style: {\n          strokeLinecap: 'butt',\n          fill: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 12,33.5 c 6,-1 15,-1 21,0\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,38.5 A 35,35 1 0 0 34,38.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 11,29 A 35,35 1 0 1 34,29\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 12.5,31.5 L 32.5,31.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"\n        })]\n      })]\n    })\n  }),\n  bK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        },\n        id: \"path6570\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#000000',\n          fillOpacity: '1',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      })]\n    })\n  })\n};\nconst ChessboardContext = /*#__PURE__*/React.createContext();\n\nconst useChessboard = () => useContext(ChessboardContext);\n\nconst ChessboardProvider = /*#__PURE__*/forwardRef((_ref3, ref) => {\n  let {\n    animationDuration,\n    areArrowsAllowed,\n    arePiecesDraggable,\n    arePremovesAllowed,\n    boardOrientation,\n    boardWidth,\n    clearPremovesOnRightClick,\n    customArrows,\n    customArrowColor,\n    customBoardStyle,\n    customDarkSquareStyle,\n    customDropSquareStyle,\n    customLightSquareStyle,\n    customPieces,\n    customPremoveDarkSquareStyle,\n    customPremoveLightSquareStyle,\n    customSquareStyles,\n    dropOffBoardAction,\n    id,\n    isDraggablePiece,\n    getPositionObject,\n    onDragOverSquare,\n    onMouseOutSquare,\n    onMouseOverSquare,\n    onPieceClick,\n    onPieceDrop,\n    onSquareClick,\n    onSquareRightClick,\n    position,\n    showBoardNotation,\n    showSparePieces,\n    children\n  } = _ref3;\n  // position stored and displayed on board\n  const [currentPosition, setCurrentPosition] = useState(convertPositionToObject(position)); // calculated differences between current and incoming positions\n\n  const [positionDifferences, setPositionDifferences] = useState({}); // colour of last piece moved to determine if premoving\n\n  const [lastPieceColour, setLastPieceColour] = useState(undefined); // current premoves\n\n  const [premoves, setPremoves] = useState([]); // ref used to access current value during timeouts (closures)\n\n  const premovesRef = useRef(premoves); // current right mouse down square\n\n  const [currentRightClickDown, setCurrentRightClickDown] = useState(); // current arrows\n\n  const [arrows, setArrows] = useState([]); // chess pieces/styling\n\n  const [chessPieces, setChessPieces] = useState({ ...defaultPieces,\n    ...customPieces\n  }); // whether the last move was a manual drop or not\n\n  const [manualDrop, setManualDrop] = useState(false); // the most recent timeout whilst waiting for animation to complete\n\n  const [previousTimeout, setPreviousTimeout] = useState(undefined); // screen size\n\n  const [screenSize, setScreenSize] = useState(undefined); // if currently waiting for an animation to finish\n\n  const [waitingForAnimation, setWaitingForAnimation] = useState(false); // open clearPremoves() to allow user to call on undo/reset/whenever\n\n  useImperativeHandle(ref, () => ({\n    clearPremoves() {\n      clearPremoves();\n    }\n\n  })); // init screen size listener to update screen size on any window size changes\n\n  useEffect(() => {\n    function handleResize() {\n      setScreenSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n      setArrows([]); // change to recalculate arrows instead\n\n      setCurrentRightClickDown(null);\n    }\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return () => window.removeEventListener('resize', handleResize);\n  }, []); // handle external arrows change\n\n  useEffect(() => {\n    setArrows(customArrows);\n  }, [customArrows]); // handle custom pieces change\n\n  useEffect(() => {\n    setChessPieces({ ...defaultPieces,\n      ...customPieces\n    });\n  }, [customPieces]); // handle external position change\n\n  useEffect(() => {\n    var _Object$keys, _Object$entries, _Object$entries$;\n\n    const newPosition = convertPositionToObject(position);\n    const differences = getPositionDifferences(currentPosition, newPosition);\n    const newPieceColour = ((_Object$keys = Object.keys(differences.added)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) <= 2 ? (_Object$entries = Object.entries(differences.added)) === null || _Object$entries === void 0 ? void 0 : (_Object$entries$ = _Object$entries[0]) === null || _Object$entries$ === void 0 ? void 0 : _Object$entries$[1][0] : undefined; // external move has come in before animation is over\n    // cancel animation and immediately update position\n\n    if (waitingForAnimation) {\n      setCurrentPosition(newPosition);\n      setWaitingForAnimation(false);\n      arePremovesAllowed && attemptPremove(newPieceColour);\n\n      if (previousTimeout) {\n        clearTimeout(previousTimeout);\n      }\n    } else {\n      // move was made using drag and drop\n      if (manualDrop) {\n        setCurrentPosition(newPosition);\n        setWaitingForAnimation(false);\n        arePremovesAllowed && attemptPremove(newPieceColour);\n      } else {\n        // move was made by external position change\n        // if position === start then don't override newPieceColour\n        // needs isDifferentFromStart in scenario where premoves have been cleared upon board reset but first move is made by computer, the last move colour would need to be updated\n        if (isDifferentFromStart(newPosition) && lastPieceColour !== undefined) {\n          setLastPieceColour(newPieceColour);\n        } else {\n          // position === start, likely a board reset\n          setLastPieceColour(undefined);\n        }\n\n        setPositionDifferences(differences); // animate external move\n\n        setWaitingForAnimation(true);\n        const newTimeout = setTimeout(() => {\n          setCurrentPosition(newPosition);\n          setWaitingForAnimation(false);\n          arePremovesAllowed && attemptPremove(newPieceColour);\n        }, animationDuration);\n        setPreviousTimeout(newTimeout);\n      }\n    } // reset manual drop, ready for next move to be made by user or external\n\n\n    setManualDrop(false); // inform latest position information\n\n    getPositionObject(newPosition); // clear arrows\n\n    clearArrows(); // clear timeout on unmount\n\n    return () => {\n      clearTimeout(previousTimeout);\n    };\n  }, [position]); // handle drop position change\n\n  function handleSetPosition(sourceSq, targetSq, piece) {\n    // if dropped back down, don't do anything\n    if (sourceSq === targetSq) {\n      return;\n    }\n\n    clearArrows(); // if second move is made for same colour, or there are still premoves queued, then this move needs to be added to premove queue instead of played\n    // premoves length check for colour is added in because white could make 3 premoves, and then black responds to the first move (changing the last piece colour) and then white pre-moves again\n\n    if (arePremovesAllowed && waitingForAnimation || arePremovesAllowed && (lastPieceColour === piece[0] || premovesRef.current.filter(p => p.piece[0] === piece[0]).length > 0)) {\n      const oldPremoves = [...premovesRef.current];\n      oldPremoves.push({\n        sourceSq,\n        targetSq,\n        piece\n      });\n      premovesRef.current = oldPremoves;\n      setPremoves([...oldPremoves]);\n      return;\n    } // if transitioning, don't allow new drop\n\n\n    if (!arePremovesAllowed && waitingForAnimation) return;\n    const newOnDropPosition = { ...currentPosition\n    };\n    setManualDrop(true);\n    setLastPieceColour(piece[0]); // if onPieceDrop function provided, execute it, position must be updated externally and captured by useEffect above for this move to show on board\n\n    if (onPieceDrop.length) {\n      const isValidMove = onPieceDrop(sourceSq, targetSq, piece);\n      if (!isValidMove) clearPremoves();\n    } else {\n      // delete if dropping off board\n      if (dropOffBoardAction === 'trash' && !targetSq) {\n        delete newOnDropPosition[sourceSq];\n      } // delete source piece if not dropping from spare piece\n\n\n      if (sourceSq !== 'spare') {\n        delete newOnDropPosition[sourceSq];\n      } // add piece in new position\n\n\n      newOnDropPosition[targetSq] = piece;\n      setCurrentPosition(newOnDropPosition);\n    } // inform latest position information\n\n\n    getPositionObject(newOnDropPosition);\n  }\n\n  function attemptPremove(newPieceColour) {\n    if (premovesRef.current.length === 0) return; // get current value of premove as this is called in a timeout so value may have changed since timeout was set\n\n    const premove = premovesRef.current[0]; // if premove is a differing colour to last move made, then this move can be made\n\n    if (premove.piece[0] !== undefined && premove.piece[0] !== newPieceColour && onPieceDrop.length) {\n      setLastPieceColour(premove.piece[0]);\n      setManualDrop(true); // pre-move doesn't need animation\n\n      const isValidMove = onPieceDrop(premove.sourceSq, premove.targetSq, premove.piece); // premove was successful and can be removed from queue\n\n      if (isValidMove) {\n        const oldPremoves = [...premovesRef.current];\n        oldPremoves.shift();\n        premovesRef.current = oldPremoves;\n        setPremoves([...oldPremoves]);\n      } else {\n        // premove wasn't successful, clear premove queue\n        clearPremoves();\n      }\n    }\n  }\n\n  function clearPremoves() {\n    setLastPieceColour(undefined);\n    premovesRef.current = [];\n    setPremoves([]);\n  }\n\n  function onRightClickDown(square) {\n    setCurrentRightClickDown(square);\n  }\n\n  function onRightClickUp(square) {\n    if (!areArrowsAllowed) return;\n\n    if (currentRightClickDown) {\n      // same square, don't draw an arrow, but do clear premoves and run onSquareRightClick\n      if (currentRightClickDown === square) {\n        setCurrentRightClickDown(null);\n        clearPremovesOnRightClick && clearPremoves();\n        onSquareRightClick(square);\n        return;\n      } // if arrow already exists then it needs to be removed\n\n\n      for (const i in arrows) {\n        if (arrows[i][0] === currentRightClickDown && arrows[i][1] === square) {\n          setArrows(oldArrows => {\n            const newArrows = [...oldArrows];\n            newArrows.splice(i, 1);\n            return newArrows;\n          });\n          return;\n        }\n      } // different square, draw an arrow\n\n\n      setArrows(oldArrows => [...oldArrows, [currentRightClickDown, square]]);\n    } else setCurrentRightClickDown(null);\n  }\n\n  function clearCurrentRightClickDown() {\n    setCurrentRightClickDown(null);\n  }\n\n  function clearArrows() {\n    setArrows([]);\n  }\n\n  return /*#__PURE__*/jsx(ChessboardContext.Provider, {\n    value: {\n      animationDuration,\n      arePiecesDraggable,\n      arePremovesAllowed,\n      boardOrientation,\n      boardWidth,\n      customArrowColor,\n      customBoardStyle,\n      customDarkSquareStyle,\n      customDropSquareStyle,\n      customLightSquareStyle,\n      customPremoveDarkSquareStyle,\n      customPremoveLightSquareStyle,\n      customSquareStyles,\n      dropOffBoardAction,\n      id,\n      isDraggablePiece,\n      getPositionObject,\n      onDragOverSquare,\n      onMouseOutSquare,\n      onMouseOverSquare,\n      onPieceClick,\n      onPieceDrop,\n      onSquareClick,\n      onSquareRightClick,\n      showBoardNotation,\n      showSparePieces,\n      arrows,\n      chessPieces,\n      clearArrows,\n      clearCurrentRightClickDown,\n      clearPremoves,\n      currentPosition,\n      handleSetPosition,\n      lastPieceColour,\n      manualDrop,\n      onRightClickDown,\n      onRightClickUp,\n      positionDifferences,\n      premoves,\n      screenSize,\n      setChessPieces,\n      setCurrentPosition,\n      setManualDrop,\n      waitingForAnimation\n    },\n    children: children\n  });\n});\n\nfunction Notation(_ref4) {\n  let {\n    row,\n    col\n  } = _ref4;\n  const {\n    boardOrientation,\n    boardWidth,\n    customDarkSquareStyle,\n    customLightSquareStyle\n  } = useChessboard();\n  const whiteColor = customLightSquareStyle.backgroundColor;\n  const blackColor = customDarkSquareStyle.backgroundColor;\n  const isRow = col === 0;\n  const isColumn = row === 7;\n  const isBottomLeftSquare = isRow && isColumn;\n\n  function getRow() {\n    return boardOrientation === 'white' ? 8 - row : row + 1;\n  }\n\n  function getColumn() {\n    return boardOrientation === 'black' ? COLUMNS[7 - col] : COLUMNS[col];\n  }\n\n  function renderBottomLeft() {\n    return /*#__PURE__*/jsxs(Fragment, {\n      children: [/*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...numericStyle(boardWidth)\n        },\n        children: getRow()\n      }), /*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...alphaStyle(boardWidth)\n        },\n        children: getColumn()\n      })]\n    });\n  }\n\n  function renderLetters() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...{\n          color: col % 2 !== 0 ? blackColor : whiteColor\n        },\n        ...alphaStyle(boardWidth)\n      },\n      children: getColumn()\n    });\n  }\n\n  function renderNumbers() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...(boardOrientation === 'black' ? {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        } : {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        }),\n        ...numericStyle(boardWidth)\n      },\n      children: getRow()\n    });\n  }\n\n  if (isBottomLeftSquare) {\n    return renderBottomLeft();\n  }\n\n  if (isColumn) {\n    return renderLetters();\n  }\n\n  if (isRow) {\n    return renderNumbers();\n  }\n\n  return null;\n}\n\nconst alphaStyle = width => ({\n  alignSelf: 'flex-end',\n  paddingLeft: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst numericStyle = width => ({\n  alignSelf: 'flex-start',\n  paddingRight: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst notationStyle = {\n  fontFamily: 'Helvetica Neue',\n  zIndex: 3,\n  position: 'absolute'\n};\n\nfunction Piece(_ref5) {\n  let {\n    piece,\n    square,\n    squares,\n    isPremovedPiece = false\n  } = _ref5;\n  const {\n    animationDuration,\n    arePiecesDraggable,\n    arePremovesAllowed,\n    boardWidth,\n    id,\n    isDraggablePiece,\n    onPieceClick,\n    premoves,\n    chessPieces,\n    dropTarget,\n    positionDifferences,\n    waitingForAnimation,\n    currentPosition\n  } = useChessboard();\n  const [pieceStyle, setPieceStyle] = useState({\n    opacity: 1,\n    zIndex: 5,\n    touchAction: 'none',\n    cursor: arePiecesDraggable && isDraggablePiece({\n      piece,\n      sourceSquare: square\n    }) ? '-webkit-grab' : 'default'\n  });\n  const [{\n    canDrag,\n    isDragging\n  }, drag, dragPreview] = useDrag(() => ({\n    type: 'piece',\n    item: {\n      piece,\n      square,\n      id\n    },\n    collect: monitor => ({\n      canDrag: isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }),\n      isDragging: !!monitor.isDragging()\n    })\n  }), [piece, square, currentPosition, id]); // hide the default preview\n\n  useEffect(() => {\n    dragPreview(getEmptyImage(), {\n      captureDraggingState: true\n    });\n  }, []); // hide piece on drag\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      opacity: isDragging ? 0 : 1\n    }));\n  }, [isDragging]); // hide piece on matching premoves\n\n  useEffect(() => {\n    // if premoves aren't allowed, don't waste time on calculations\n    if (!arePremovesAllowed) return;\n    let hidePiece = false; // side effect: if piece moves into pre-moved square, its hidden\n    // if there are any premove targets on this square, hide the piece underneath\n\n    if (!isPremovedPiece && premoves.find(p => p.targetSq === square)) hidePiece = true; // if sourceSq === sq and piece matches then this piece has been pre-moved elsewhere?\n\n    if (premoves.find(p => p.sourceSq === square && p.piece === piece)) hidePiece = true; // TODO: If a premoved piece returns to a premoved square, it will hide (e1, e2, e1)\n\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      display: hidePiece ? 'none' : 'unset'\n    }));\n  }, [currentPosition, premoves]); // new move has come in\n  // if waiting for animation, then animation has started and we can perform animation\n  // we need to head towards where we need to go, we are the source, we are heading towards the target\n\n  useEffect(() => {\n    var _positionDifferences$;\n\n    const removedPiece = (_positionDifferences$ = positionDifferences.removed) === null || _positionDifferences$ === void 0 ? void 0 : _positionDifferences$[square]; // check if piece matches or if removed piece was a pawn and new square is on 1st or 8th rank (promotion)\n\n    const newSquare = Object.entries(positionDifferences.added).find(_ref6 => {\n      let [s, p] = _ref6;\n      return p === removedPiece || (removedPiece === null || removedPiece === void 0 ? void 0 : removedPiece[1]) === 'P' && (s[1] === '1' || s[1] === '8');\n    }); // we can perform animation if our square was in removed, AND the matching piece is in added AND this isn't a premoved piece\n\n    if (waitingForAnimation && removedPiece && newSquare && !isPremovedPiece) {\n      const {\n        sourceSq,\n        targetSq\n      } = getSquareCoordinates(square, newSquare[0]);\n\n      if (sourceSq && targetSq) {\n        setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n          transform: `translate(${targetSq.x - sourceSq.x}px, ${targetSq.y - sourceSq.y}px)`,\n          transition: `transform ${animationDuration}ms`\n        }));\n      }\n    }\n  }, [positionDifferences]); // translate to their own positions (repaint on undo)\n\n  useEffect(() => {\n    const {\n      sourceSq\n    } = getSingleSquareCoordinates(square);\n\n    if (sourceSq) {\n      setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n        transform: `translate(${0}px, ${0}px)`,\n        transition: `transform ${0}ms`\n      }));\n    }\n  }, [currentPosition]); // update is piece draggable\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      cursor: arePiecesDraggable && isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }) ? '-webkit-grab' : 'default'\n    }));\n  }, [square, currentPosition, arePiecesDraggable]);\n\n  function getSingleSquareCoordinates(square) {\n    return {\n      sourceSq: squares[square]\n    };\n  }\n\n  function getSquareCoordinates(sourceSquare, targetSquare) {\n    return {\n      sourceSq: squares[sourceSquare],\n      targetSq: squares[targetSquare]\n    };\n  }\n\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: arePiecesDraggable ? canDrag ? drag : null : null,\n    onClick: () => onPieceClick(piece),\n    style: pieceStyle,\n    children: typeof chessPieces[piece] === 'function' ? chessPieces[piece]({\n      squareWidth: boardWidth / 8,\n      isDragging,\n      droppedPiece: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.piece,\n      targetSquare: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.target,\n      sourceSquare: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.source\n    }) : /*#__PURE__*/jsx(\"svg\", {\n      viewBox: '1 1 43 43',\n      width: boardWidth / 8,\n      height: boardWidth / 8,\n      children: /*#__PURE__*/jsx(\"g\", {\n        children: chessPieces[piece]\n      })\n    })\n  });\n}\n\nfunction Square(_ref7) {\n  let {\n    square,\n    squareColor,\n    setSquares,\n    squareHasPremove,\n    children\n  } = _ref7;\n  const squareRef = useRef();\n  const {\n    boardWidth,\n    boardOrientation,\n    clearArrows,\n    currentPosition,\n    customBoardStyle,\n    customDarkSquareStyle,\n    customDropSquareStyle,\n    customLightSquareStyle,\n    customPremoveDarkSquareStyle,\n    customPremoveLightSquareStyle,\n    customSquareStyles,\n    handleSetPosition,\n    lastPieceColour,\n    onDragOverSquare,\n    onMouseOutSquare,\n    onMouseOverSquare,\n    onPieceDrop,\n    onRightClickDown,\n    onRightClickUp,\n    onSquareClick,\n    waitingForAnimation\n  } = useChessboard();\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: 'piece',\n    drop: item => handleSetPosition(item.square, square, item.piece),\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [square, currentPosition, onPieceDrop, waitingForAnimation, lastPieceColour]);\n  useEffect(() => {\n    const {\n      x,\n      y\n    } = squareRef.current.getBoundingClientRect();\n    setSquares(oldSquares => ({ ...oldSquares,\n      [square]: {\n        x,\n        y\n      }\n    }));\n  }, [boardWidth, boardOrientation]);\n  const defaultSquareStyle = { ...borderRadius(customBoardStyle, square, boardOrientation),\n    ...(squareColor === 'black' ? customDarkSquareStyle : customLightSquareStyle),\n    ...(squareHasPremove && (squareColor === 'black' ? customPremoveDarkSquareStyle : customPremoveLightSquareStyle)),\n    ...(isOver && customDropSquareStyle)\n  };\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: drop,\n    style: defaultSquareStyle,\n    onMouseOver: () => onMouseOverSquare(square),\n    onMouseOut: () => onMouseOutSquare(square),\n    onMouseDown: e => {\n      if (e.button === 2) onRightClickDown(square);\n    },\n    onMouseUp: e => {\n      if (e.button === 2) onRightClickUp(square);\n    },\n    onDragEnter: () => onDragOverSquare(square),\n    onClick: () => {\n      onSquareClick(square);\n      clearArrows();\n    },\n    onContextMenu: e => {\n      e.preventDefault();\n    },\n    children: /*#__PURE__*/jsx(\"div\", {\n      ref: squareRef,\n      style: { ...size(boardWidth),\n        ...center,\n        ...(!squareHasPremove && (customSquareStyles === null || customSquareStyles === void 0 ? void 0 : customSquareStyles[square]))\n      },\n      children: children\n    })\n  });\n}\n\nconst center = {\n  display: 'flex',\n  justifyContent: 'center'\n};\n\nconst size = width => ({\n  width: width / 8,\n  height: width / 8\n});\n\nconst borderRadius = (customBoardStyle, square, boardOrientation) => {\n  if (!customBoardStyle.borderRadius) return {};\n\n  if (square === 'a1') {\n    return boardOrientation === 'white' ? {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'a8') {\n    return boardOrientation === 'white' ? {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h1') {\n    return boardOrientation === 'white' ? {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h8') {\n    return boardOrientation === 'white' ? {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  return {};\n};\n\nfunction Squares(_ref8) {\n  let {\n    children\n  } = _ref8;\n  const {\n    boardOrientation,\n    boardWidth,\n    customBoardStyle,\n    id\n  } = useChessboard();\n  return /*#__PURE__*/jsx(\"div\", {\n    \"data-boardid\": id,\n    style: { ...boardStyles(boardWidth),\n      ...customBoardStyle\n    },\n    children: [...Array(8)].map((_, r) => {\n      return /*#__PURE__*/jsx(\"div\", {\n        style: rowStyles(boardWidth),\n        children: [...Array(8)].map((_, c) => {\n          // a1, a2 ...\n          const square = boardOrientation === 'black' ? COLUMNS[7 - c] + (r + 1) : COLUMNS[c] + (8 - r);\n          const squareColor = c % 2 === r % 2 ? 'white' : 'black';\n          return children({\n            square,\n            squareColor,\n            col: c,\n            row: r\n          });\n        })\n      }, r.toString());\n    })\n  });\n}\n\nconst boardStyles = width => ({\n  cursor: 'default',\n  height: width,\n  width\n});\n\nconst rowStyles = width => ({\n  display: 'flex',\n  flexWrap: 'nowrap',\n  width\n});\n\nconst errorImage = {\n  whiteKing: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    style: {\n      shapeRendering: 'geometricPrecision',\n      textRendering: 'geometricPrecision',\n      imageRendering: 'optimizeQuality'\n    },\n    viewBox: \"0 0 4210 12970\",\n    x: \"0px\",\n    y: \"0px\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    width: \"250\",\n    height: \"250\",\n    children: /*#__PURE__*/jsx(\"g\", {\n      children: /*#__PURE__*/jsx(\"path\", {\n        style: {\n          fill: 'black',\n          fillRule: 'nonzero'\n        },\n        d: \"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z\"\n      })\n    })\n  })\n};\n\nfunction ErrorBoundary(_ref9) {\n  let {\n    children\n  } = _ref9;\n\n  try {\n    return children;\n  } catch (error) {\n    return /*#__PURE__*/jsx(WhiteKing, {\n      showError: true\n    });\n  }\n}\n\nfunction WhiteKing(_ref10) {\n  let {\n    showError = false\n  } = _ref10;\n  return /*#__PURE__*/jsxs(\"div\", {\n    style: container,\n    children: [/*#__PURE__*/jsx(\"div\", {\n      style: whiteKingStyle,\n      children: errorImage.whiteKing\n    }), showError && /*#__PURE__*/jsx(\"h1\", {\n      children: \"Something went wrong\"\n    })]\n  });\n}\n\nconst container = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  flexDirection: 'column'\n};\nconst whiteKingStyle = {\n  width: 250,\n  height: 250,\n  transform: 'rotate(90deg)'\n};\n\nfunction Board() {\n  const boardRef = useRef();\n  const [squares, setSquares] = useState({});\n  const {\n    arrows,\n    boardOrientation,\n    boardWidth,\n    clearCurrentRightClickDown,\n    customArrowColor,\n    showBoardNotation,\n    currentPosition,\n    screenSize,\n    premoves\n  } = useChessboard();\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (boardRef.current && !boardRef.current.contains(event.target)) {\n        clearCurrentRightClickDown();\n      }\n    }\n\n    document.addEventListener('mouseup', handleClickOutside);\n    return () => {\n      document.removeEventListener('mouseup', handleClickOutside);\n    };\n  }, []);\n  return screenSize && boardWidth ? /*#__PURE__*/jsxs(\"div\", {\n    ref: boardRef,\n    style: {\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/jsx(Squares, {\n      children: _ref11 => {\n        let {\n          square,\n          squareColor,\n          col,\n          row\n        } = _ref11;\n        const squareHasPremove = premoves.find(p => p.sourceSq === square || p.targetSq === square);\n        const squareHasPremoveTarget = premoves.find(p => p.targetSq === square);\n        return /*#__PURE__*/jsxs(Square, {\n          square: square,\n          squareColor: squareColor,\n          setSquares: setSquares,\n          squareHasPremove: squareHasPremove,\n          children: [currentPosition[square] && /*#__PURE__*/jsx(Piece, {\n            piece: currentPosition[square],\n            square: square,\n            squares: squares\n          }), squareHasPremoveTarget && /*#__PURE__*/jsx(Piece, {\n            isPremovedPiece: true,\n            piece: squareHasPremoveTarget.piece,\n            square: square,\n            squares: squares\n          }), showBoardNotation && /*#__PURE__*/jsx(Notation, {\n            row: row,\n            col: col\n          })]\n        }, `${col}${row}`);\n      }\n    }), /*#__PURE__*/jsx(\"svg\", {\n      width: boardWidth,\n      height: boardWidth,\n      style: {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        pointerEvents: 'none',\n        zIndex: '10'\n      },\n      children: arrows.map((arrow, i) => {\n        const from = getRelativeCoords(boardOrientation, boardWidth, arrow[0]);\n        const to = getRelativeCoords(boardOrientation, boardWidth, arrow[1]);\n        return /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsx(\"defs\", {\n            children: /*#__PURE__*/jsx(\"marker\", {\n              id: \"arrowhead\",\n              markerWidth: \"2\",\n              markerHeight: \"2.5\",\n              refX: \"1.25\",\n              refY: \"1.25\",\n              orient: \"auto\",\n              children: /*#__PURE__*/jsx(\"polygon\", {\n                points: \"0 0, 2 1.25, 0 2.5\",\n                style: {\n                  fill: customArrowColor\n                }\n              })\n            })\n          }), /*#__PURE__*/jsx(\"line\", {\n            x1: from.x,\n            y1: from.y,\n            x2: to.x,\n            y2: to.y,\n            style: {\n              stroke: customArrowColor,\n              strokeWidth: boardWidth / 36\n            },\n            markerEnd: \"url(#arrowhead)\"\n          }, i)]\n        });\n      })\n    })]\n  }) : /*#__PURE__*/jsx(WhiteKing, {});\n}\n\nfunction CDragLayer(props) {\n  const {\n    boardWidth,\n    chessPieces,\n    id\n  } = useChessboard();\n  const {\n    isDragging,\n    item,\n    currentOffset\n  } = props;\n  const layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 10,\n    left: 0,\n    top: 0\n  };\n\n  const getItemStyle = currentOffset => {\n    if (!currentOffset) return {\n      display: 'none'\n    };\n    const {\n      x,\n      y\n    } = currentOffset;\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n      transform,\n      WebkitTransform: transform,\n      touchAction: 'none'\n    };\n  };\n\n  return isDragging && item.id === id ? /*#__PURE__*/jsx(\"div\", {\n    style: layerStyles,\n    children: /*#__PURE__*/jsx(\"div\", {\n      style: getItemStyle(currentOffset),\n      children: typeof chessPieces[item.piece] === 'function' ? chessPieces[item.piece]({\n        squareWidth: boardWidth / 8,\n        isDragging: true\n      }) : /*#__PURE__*/jsx(\"svg\", {\n        viewBox: '1 1 43 43',\n        width: boardWidth / 8,\n        height: boardWidth / 8,\n        children: /*#__PURE__*/jsx(\"g\", {\n          children: chessPieces[item.piece]\n        })\n      })\n    })\n  }) : null;\n}\n\nfunction collect(monitor) {\n  return {\n    item: monitor.getItem(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging()\n  };\n}\n\nconst CustomDragLayer = DragLayer(collect)(CDragLayer);\nconst Chessboard = /*#__PURE__*/forwardRef((props, ref) => {\n  return /*#__PURE__*/jsx(ErrorBoundary, {\n    children: /*#__PURE__*/jsx(DndProvider, {\n      options: HTML5toTouch,\n      children: /*#__PURE__*/jsxs(ChessboardProvider, {\n        ref: ref,\n        ...props,\n        children: [/*#__PURE__*/jsx(CustomDragLayer, {}), /*#__PURE__*/jsx(\"div\", {\n          children: /*#__PURE__*/jsx(Board, {})\n        })]\n      })\n    })\n  });\n});\nChessboard.propTypes = chessboardPropTypes;\nChessboard.defaultProps = chessboardDefaultProps;\nexport { Chessboard };","map":{"version":3,"sources":["/home/mario/Desktop/ChessLion/client/node_modules/react-chessboard/dist/index.esm.js"],"names":["React","createContext","memo","useEffect","isValidElement","cloneElement","createRef","Component","useLayoutEffect","useMemo","useContext","useState","useCallback","useRef","forwardRef","useImperativeHandle","jsx","jsxs","Fragment","createTransition","event","check","_isMBTransition","TouchTransition","touches","MouseTransition","type","indexOf","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","_unsupportedIterableToArray$8","i","F","s","n","length","done","value","e","_e","f","TypeError","it","normalCompletion","didErr","err","step","next","_e2","return","minLen","_arrayLikeToArray$8","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck$i","instance","Constructor","PreviewList","_this","register","preview","previews","push","unregister","index","splice","backendChanged","backend","_iterator","_step","_toConsumableArray$1","_arrayWithoutHoles$1","_iterableToArray$1","_unsupportedIterableToArray$7","_nonIterableSpread$1","_arrayLikeToArray$7","iter","_classCallCheck$h","_default","manager","context","sourceOptions","setup","window","isSetUp","Error","addEventListeners","backends","current","teardown","removeEventListeners","connectDragSource","_len","arguments","args","_key","connectBackend","connectDragPreview","_len2","_key2","connectDropTarget","_len3","_key3","previewEnabled","target","forEach","transition","addEventListener","backendSwitcher","removeEventListener","oldBackend","some","keys","nodes","id","node","handler","callBackend","func","newBackend","skipDispatchOnTransition","newEvent","document","createEvent","initEvent","bubbles","cancelable","dispatchEvent","_this$backends$_this$","apply","nodeId","concat","_this$nodes$nodeId","r","options","assign","Boolean","MultiBackend","propTypes","exports","reactIs$1","reactIs_production_min","b","for","c","d","g","h","k","l","m","p","q","t","v","w","x","y","z","a","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","reactIs_development","process","env","NODE_ENV","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","object","$$typeofType","undefined","hasWarnedAboutDeprecatedIsAsyncMode","console","getOwnPropertySymbols$1","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","map","join","test3","split","letter","objectAssign","source","to","symbols","key","ReactPropTypesSecret$3","ReactPropTypesSecret_1","printWarning$1","ReactPropTypesSecret$2","loggedTypeFailures","has$1","Function","bind","text","message","error","checkPropTypes$1","typeSpecs","values","location","componentName","getStack","typeSpecName","ex","stack","resetWarningCache","checkPropTypes_1","ReactIs$1","ReactPropTypesSecret$1","checkPropTypes","has","printWarning","emptyFunctionThatReturnsNull","factoryWithTypeCheckers","throwOnDirectAccess","ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","array","createPrimitiveTypeChecker","bool","number","string","symbol","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","element","createElementTypeChecker","elementType","createElementTypeTypeChecker","instanceOf","createInstanceTypeChecker","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","exact","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","props","propName","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","JSON","stringify","replacer","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","every","entries","entry","isSymbol","RegExp","Date","PropTypes","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","getShim","ReactIs","DndContext","dragDropManager","HandlerRole","invariant","condition","format","argIndex","replace","framesToPop","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","payload","_typeof$5","obj","_typeof","get","path","defaultValue","reduce","without$1","items","item","filter","isObject","input","xor","itemsA","itemsB","Map","insertItem","set","result","count","intersection","ResetCoordinatesAction","createBeginDrag","beginDrag","sourceIds","publishSource","_options$publishSourc","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","dispatch","verifyInvariants$1","sourceId","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","isDragging","canDragSource","createPublishDragSource","publishDragSource","matchesType","targetType","draggedItemType","createHover","hover","targetIdsArg","_ref","verifyTargetIdsIsArray","targetIds","checkInvariants","getItemType","removeNonMatchingTargetIds","hoverAllTargets","didDrop","targetId","lastIndexOf","getTarget","getTargetType","ownKeys$4","enumerableOnly","sym","getOwnPropertyDescriptor","enumerable","_objectSpread$4","_defineProperty$i","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","createDrop","drop","verifyInvariants","getDroppableTargets","dropResult","determineDropResult","action","verifyDropResultType","getDropResult","getTargetIds","canDropOnTarget","reverse","createEndDrag","endDrag","verifyIsDragging","getSourceId","unpinSource","createDragDropActions","_classCallCheck$g","_defineProperties$g","descriptor","_createClass$g","protoProps","staticProps","DragDropManagerImpl","store","handleRefCountChange","shouldSetUp","getState","refCount","subscribe","receiveBackend","getBackend","getActions","bindActionCreator","actionCreator","actions","boundActions","formatProdErrorMessage","code","$$observable","observable","randomString","Math","random","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject$1","proto","getPrototypeOf","miniKindOf","isDate","isError","constructorName","ctorName","toLowerCase","stackTraceLimit","toDateString","getDate","setDate","kindOf","typeOfVal","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","unsubscribe","listeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","warning","isCrushed","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","ownKeys$3","_objectSpread$3","_defineProperty$h","initialState$1","initialSourceClientOffset","initialClientOffset","reduce$5","state","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","addSource","addTarget","removeSource","removeTarget","ownKeys$2","_objectSpread$2","_defineProperty$g","initialState","reduce$4","reduce$3","NONE","ALL","__IS_NONE__","__IS_ALL__","areDirty","dirtyIds","handlerIds","commonIds","reduce$2","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","reduce$1","ownKeys$1","_objectSpread$1","_defineProperty$f","dirtyHandlerIds","dragOffset","dragOperation","stateId","add","subtract","getDifferenceFromInitialOffset","_classCallCheck$f","_defineProperties$f","_createClass$f","DragDropMonitorImpl","subscribeToStateChange","prevStateId","handleChange","currentStateId","canSkipListener","subscribeToOffsetChange","_this2","previousState","nextState","canDrag","canDrop","isDraggingSource","sourceType","isOverTarget","shallow","getItem","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","getSourceClientOffset$1","getDifferenceFromInitialOffset$1","nextUniqueId","getNextUniqueId","_typeof$4","validateSourceContract","validateTargetContract","validateType","allowArray","rawAsap","task","queue","requestFlush","capacity","flush","currentIndex","scan","newLength","scope","global","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromMutationObserver","makeRequestCallFromTimer","callback","toggle","createTextNode","observe","characterData","requestCall","data","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","freeTasks","pendingErrors","requestErrorThrow","throwFirstError","shift","asap","rawTask","pop","RawTask","onerror","_classCallCheck$e","_defineProperties$e","_createClass$e","_slicedToArray$5","_arrayWithHoles$5","_iterableToArrayLimit$5","_unsupportedIterableToArray$6","_nonIterableRest$5","_arrayLikeToArray$6","_arr","_n","_d","_i","_s","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","searchValue","isDone","_entries$next","_entries$next$value","HandlerRegistryImpl","types","dragSources","dropTargets","pinnedSourceId","pinnedSource","addSource$1","addHandler","addTarget$1","containsHandler","includePinned","isSourceId","isPinned","isTargetId","removeSource$1","delete","removeTarget$1","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","makeStoreInstance","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","_excluded","_slicedToArray$4","_arrayWithHoles$4","_iterableToArrayLimit$4","_unsupportedIterableToArray$5","_nonIterableRest$4","_arrayLikeToArray$5","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","INSTANCE_SYM","DndProvider$1","DndProvider","children","_getDndContextValue","getDndContextValue","_getDndContextValue2","isGlobalInstance","getGlobalContext","Provider","_manager","createSingletonDndContext","ctx","_classCallCheck$d","_defineProperties$d","_createClass$d","_defineProperty$e","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","internalMonitor","receiveHandlerId","getHandlerId","_classCallCheck$c","_defineProperties$c","_createClass$c","_defineProperty$d","isCallingCanDrop","DropTargetMonitorImpl","isOver","throwIfCompositeComponentElement","displayName","wrapHookToRecognizeElement","hook","elementOrNode","ref","cloneWithRef","wrapConnectorHooks","hooks","wrappedHooks","endsWith","wrappedHook","setRef","newRef","previousRef","_typeof$3","isRef","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","_classCallCheck$b","_defineProperties$b","_createClass$b","_defineProperty$c","SourceConnector","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","newHandlerId","reconnect","dragSourceOptionsInternal","dragPreviewOptionsInternal","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedDragSource","lastConnectedHandlerId","lastConnectedDragSourceOptions","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","_classCallCheck$a","_defineProperties$a","_createClass$a","_defineProperty$b","TargetConnector","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","dropTargetOptionsInternal","registerTarget","registerSource","_typeof$2","isClassComponent","render","isRefForwardingComponent","C","_item$$$typeof","isRefable","checkDecoratorArguments","functionName","signature","arg","isObjectLike","isPlainObject","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","KNOWN_STATICS","caller","callee","arity","FORWARD_REF_STATICS","MEMO_STATICS","TYPE_STATICS","getStatics","component","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","hoistNonReactStatics_cjs","hoistStatics","_typeof$1","_classCallCheck$9","_defineProperties$9","_createClass$9","_inherits","subClass","superClass","create","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","valueOf","_defineProperty$a","DragLayer","collect","decorateLayer","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_Component","_super","isCurrentlyMounted","getCurrentState","setState","getDecoratedComponentInstance","shouldComponentUpdate","nextProps","componentDidMount","componentWillUnmount","unsubscribeFromOffsetChange","unsubscribeFromStateChange","Consumer","receiveDragDropManager","useIsomorphicLayoutEffect","_classCallCheck$8","_defineProperties$8","_createClass$8","_defineProperty$9","DragSourceImpl","spec","connector","_result","globalMonitor","end","useDragSource","useDragDropManager","_useContext","useDragType","_slicedToArray$3","_arrayWithHoles$3","_iterableToArrayLimit$3","_unsupportedIterableToArray$4","_nonIterableRest$3","_arrayLikeToArray$4","useRegisteredDragSource","registerDragSource","_registerSource","_registerSource2","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray$3","_nonIterableSpread","_arrayLikeToArray$3","useOptionalFactory","deps","memoDeps","useDragSourceMonitor","useDragSourceConnector","fastDeepEqual","equal","flags","_slicedToArray$2","_arrayWithHoles$2","_iterableToArrayLimit$2","_unsupportedIterableToArray$2","_nonIterableRest$2","_arrayLikeToArray$2","useCollector","onUpdate","_useState","_useState2","collected","setCollected","updateCollected","nextValue","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_unsupportedIterableToArray$1","_nonIterableRest$1","_arrayLikeToArray$1","useMonitorOutput","onCollect","_useCollector","_useCollector2","subscribeToMonitorStateChange","useCollectedProps","collector","useConnectDragSource","useConnectDragPreview","useDrag","specArg","begin","previewOptions","useAccept","accept","_classCallCheck$7","_defineProperties$7","_createClass$7","_defineProperty$8","DropTargetImpl","useDropTarget","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","useRegisteredDropTarget","registerDropTarget","_registerTarget","_registerTarget2","useDropTargetMonitor","useDropTargetConnector","useConnectDropTarget","useDrop","_extends","PreviewPortalContext","previewPortal","createElement","generator","memoize","fn","memoized","without","union","Set","_classCallCheck$6","_defineProperties$6","_createClass$6","_defineProperty$7","EnterLeaveCounter","isNodeInDocument","enter","enteringNode","previousLength","entered","isNodeEntered","contains","leave","leavingNode","reset","isFirefox","navigator","userAgent","isSafari","safari","_classCallCheck$5","_defineProperties$5","_createClass$5","_defineProperty$6","MonotonicInterpolant","xs","ys","indexes","sort","dxs","ms","dx","dy","c1s","_i2","m2","mNext","dxNext","common","c2s","c3s","_i3","c1","invDx","_common","interpolate","low","high","mid","floor","xHere","max","diff","diffSq","ELEMENT_NODE$1","getNodeClientOffset$1","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","getEventClientOffset$1","clientX","clientY","isImageNode","_document$documentEle","nodeName","documentElement","getDragPreviewSize","isImage","sourceWidth","sourceHeight","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","getDragPreviewOffset","sourceNode","anchorPoint","offsetPoint","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","offsetWidth","offsetHeight","anchorX","anchorY","_getDragPreviewSize","calculateYOffset","interpolantY","calculateXOffset","interpolantX","offsetX","offsetY","isManualOffsetX","isManualOffsetY","FILE","URL","TEXT","HTML","NativeTypes","freeze","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","_nativeTypesConfig","_defineProperty$5","nativeTypesConfig","exposeProperties","files","matchesTypes","html","urls","_classCallCheck$4","_defineProperties$4","_createClass$4","_defineProperty$4","NativeDragSource","config","initializeExposedProperties","property","warn","loadDataTransfer","newProperties","handle","createNativeDragSource","matchNativeItemType","dataTransferTypes","nativeItemType","_classCallCheck$3","_defineProperties$3","_createClass$3","_defineProperty$3","OptionsReader$1","OptionsReader","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","ownKeys","_objectSpread","_defineProperty$2","_classCallCheck$2","_defineProperties$2","_createClass$2","HTML5BackendImpl","sourceNodes","isDraggingNativeItem","currentNativeHandle","currentNativeSource","body","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","_this$getCurrentSourc2","captureDraggingState","beginDragNativeItem","hasAttribute","preventDefault","dragEnterTargetIds","isFirstEnter","enterLeaveCounter","altKeyPressed","altKey","dropEffect","getCurrentDropEffect","dragOverTargetIds","isLastLeave","endDragNativeItem","dropTargetIds","_this$currentNativeSo","dragDrop","tagName","isContentEditable","profile","_this$dragStartSource","_this$dragOverTargetI","size","sourcePreviewNodeOptions","sourceNodeOptions","root","__isReactDndBackendSetUp","asyncEndDragFrameId","_this$window","cancelAnimationFrame","_this3","handleDragStart","handleSelectStart","setAttribute","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","_this5","MOUSE_MOVE_TIMEOUT","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","emptyImage","getEmptyImage","Image","src","HTML5Backend","createBackend","ListenerType","MouseButtons","Left","Right","Center","MouseButton","eventShouldStartDrag","button","eventShouldEndDrag","buttons","isTouchEvent","targetTouches","ELEMENT_NODE","getNodeClientOffset","getEventClientTouchOffset","lastTargetTouchFallback","getEventClientOffset","distance","x1","y1","x2","y2","sqrt","pow","abs","inAngleRanges","angleRanges","angle","atan2","PI","start","supportsPassive","supported","_classCallCheck$1","_defineProperties$1","_createClass$1","_defineProperty$1","_this$args$delay","delay","scrollAngleRanges","getDropTargetElementsAtPoint","_this$args$ignoreCont","ignoreContextMenu","_this$args$enableHove","enableHoverOutsideTarget","_this$args$enableKeyb","enableKeyboardEvents","_this$args$enableMous","enableMouseEvents","_this$args$enableTouc","enableTouchEvents","touchSlop","_this$args$delayTouch","_this$args","_this$args2","delayTouchStart","_this$args$delayMouse","_this$args3","_this$args4","delayMouseStart","_this$context","_this$args5","_eventNames","_classCallCheck","_defineProperties","_createClass","_defineProperty","eventNames","mouse","move","contextmenu","touch","keyboard","keydown","TouchBackendImpl","moveStartSourceIds","_mouseClientOffset","waitingForDelay","timeout","handleTopMoveStart","_evt","_isScrolling","installSourceNodeRemovalObserver","dragOverTargetNodes","targetNodes","elementsAtPoint","elementsFromPoint","elementsAtPointExtended","currentNode","orderedDragOverTargetIds","_getDropTargetId","ids","targetNode","uninstallSourceNodeRemovalObserver","listenerTypes","getTopMoveStartHandler","handleTopMoveStartCapture","handleTopMove","handleTopMoveCapture","handleTopMoveEndCapture","handleCancelOnEscape","subject","capture","passive","listenerType","evt","handleMoveStart","handleMove","coords","droppedOn","elementFromPoint","childMatch","handleTopMoveStartDelay","draggedSourceNode","draggedSourceNodeRemovalObserver","resurrectSourceNode","childList","style","display","removeAttribute","appendChild","disconnect","TouchBackend","HTML5toTouch","COLUMNS","chessboardPropTypes","animationDuration","areArrowsAllowed","arePiecesDraggable","arePremovesAllowed","boardOrientation","boardWidth","clearPremovesOnRightClick","customArrows","customArrowColor","customBoardStyle","customDarkSquareStyle","customDropSquareStyle","customLightSquareStyle","customPieces","customPremoveDarkSquareStyle","customPremoveLightSquareStyle","customSquareStyles","dropOffBoardAction","isDraggablePiece","getPositionObject","onDragOverSquare","onMouseOutSquare","onMouseOverSquare","onPieceClick","onPieceDrop","onSquareClick","onSquareRightClick","position","showBoardNotation","chessboardDefaultProps","backgroundColor","boxShadow","startPositionObject","a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","d1","e1","f1","g1","h1","whiteColumnValues","blackColumnValues","whiteRows","blackRows","getRelativeCoords","square","squareWidth","columns","rows","isDifferentFromStart","newPosition","isDifferent","getPositionDifferences","currentPosition","difference","removed","added","isString","convertPositionToObject","fenToObj","validFen","validPositionObject","fen","currentRow","row","colIdx","j","search","numEmptySquares","parseInt","fenToPieceCode","expandFenEmptySquares","chunks","piece","toUpperCase","validSquare","validPieceCode","pos","defaultPieces","wP","xmlns","version","opacity","fill","fillOpacity","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeOpacity","wR","wN","transform","wB","wQ","cx","cy","wK","bP","bR","bN","bB","bQ","bK","ChessboardContext","useChessboard","ChessboardProvider","showSparePieces","setCurrentPosition","positionDifferences","setPositionDifferences","lastPieceColour","setLastPieceColour","premoves","setPremoves","premovesRef","currentRightClickDown","setCurrentRightClickDown","arrows","setArrows","chessPieces","setChessPieces","manualDrop","setManualDrop","previousTimeout","setPreviousTimeout","screenSize","setScreenSize","waitingForAnimation","setWaitingForAnimation","clearPremoves","handleResize","innerWidth","innerHeight","_Object$keys","_Object$entries","_Object$entries$","differences","newPieceColour","attemptPremove","newTimeout","clearArrows","handleSetPosition","sourceSq","targetSq","oldPremoves","newOnDropPosition","isValidMove","premove","onRightClickDown","onRightClickUp","oldArrows","newArrows","clearCurrentRightClickDown","Notation","col","whiteColor","blackColor","isRow","isColumn","isBottomLeftSquare","getRow","getColumn","renderBottomLeft","notationStyle","color","numericStyle","alphaStyle","renderLetters","renderNumbers","alignSelf","paddingLeft","fontSize","paddingRight","fontFamily","zIndex","Piece","squares","isPremovedPiece","pieceStyle","setPieceStyle","touchAction","cursor","sourceSquare","drag","oldPieceStyle","hidePiece","find","_positionDifferences$","removedPiece","newSquare","getSquareCoordinates","getSingleSquareCoordinates","targetSquare","onClick","droppedPiece","viewBox","Square","squareColor","setSquares","squareHasPremove","squareRef","oldSquares","defaultSquareStyle","borderRadius","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragEnter","onContextMenu","center","justifyContent","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","Squares","boardStyles","_","rowStyles","flexWrap","errorImage","whiteKing","shapeRendering","textRendering","imageRendering","clipRule","ErrorBoundary","WhiteKing","showError","container","whiteKingStyle","alignItems","flexDirection","Board","boardRef","handleClickOutside","squareHasPremoveTarget","pointerEvents","arrow","markerWidth","markerHeight","refX","refY","orient","points","markerEnd","CDragLayer","currentOffset","layerStyles","getItemStyle","WebkitTransform","CustomDragLayer","Chessboard"],"mappings":"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","sourcesContent":["import React, { createContext, memo, useEffect, isValidElement, cloneElement, createRef, Component, useLayoutEffect, useMemo, useContext, useState, useCallback, useRef, forwardRef, useImperativeHandle } from 'react';\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport 'react-dom';\n\nvar createTransition = (function (event, check) {\n  return {\n    _isMBTransition: true,\n    event: event,\n    check: check\n  };\n});\n\nvar TouchTransition = createTransition('touchstart', function (event) {\n  return event.touches != null; // eslint-disable-line no-eq-null, eqeqeq\n});\nvar MouseTransition = createTransition('mousedown', function (event) {\n  if (event.type) {\n    return event.type.indexOf('touch') === -1 && event.type.indexOf('mouse') !== -1;\n  }\n\n  return false;\n});\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray$8(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$8(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$8(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$8(o, minLen);\n}\n\nfunction _arrayLikeToArray$8(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck$i(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar PreviewList = function PreviewList() {\n  var _this = this;\n\n  _classCallCheck$i(this, PreviewList);\n\n  this.register = function (preview) {\n    _this.previews.push(preview);\n  };\n\n  this.unregister = function (preview) {\n    var index;\n\n    while ((index = _this.previews.indexOf(preview)) !== -1) {\n      _this.previews.splice(index, 1);\n    }\n  };\n\n  this.backendChanged = function (backend) {\n    var _iterator = _createForOfIteratorHelper(_this.previews),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var preview = _step.value;\n        preview.backendChanged(backend);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  this.previews = [];\n};\n\nfunction _toConsumableArray$1(arr) {\n  return _arrayWithoutHoles$1(arr) || _iterableToArray$1(arr) || _unsupportedIterableToArray$7(arr) || _nonIterableSpread$1();\n}\n\nfunction _nonIterableSpread$1() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$7(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$7(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$7(o, minLen);\n}\n\nfunction _iterableToArray$1(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles$1(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$7(arr);\n}\n\nfunction _arrayLikeToArray$7(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck$h(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar _default = function _default(manager, context, sourceOptions) {\n  var _this = this;\n\n  _classCallCheck$h(this, _default);\n\n  this.setup = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (_this.constructor.isSetUp) {\n      throw new Error('Cannot have two MultiBackends at the same time.');\n    }\n\n    _this.constructor.isSetUp = true;\n\n    _this.addEventListeners(window);\n\n    _this.backends[_this.current].instance.setup();\n  };\n\n  this.teardown = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    _this.constructor.isSetUp = false;\n\n    _this.removeEventListeners(window);\n\n    _this.backends[_this.current].instance.teardown();\n  };\n\n  this.connectDragSource = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _this.connectBackend('connectDragSource', args);\n  };\n\n  this.connectDragPreview = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _this.connectBackend('connectDragPreview', args);\n  };\n\n  this.connectDropTarget = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _this.connectBackend('connectDropTarget', args);\n  };\n\n  this.previewEnabled = function () {\n    return _this.backends[_this.current].preview;\n  };\n\n  this.addEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.addEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.removeEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.removeEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.backendSwitcher = function (event) {\n    var oldBackend = _this.current;\n    var i = 0;\n\n    _this.backends.some(function (backend) {\n      if (i !== _this.current && backend.transition && backend.transition.check(event)) {\n        _this.current = i;\n        return true;\n      }\n\n      i += 1;\n      return false;\n    });\n\n    if (_this.current !== oldBackend) {\n      _this.backends[oldBackend].instance.teardown();\n\n      Object.keys(_this.nodes).forEach(function (id) {\n        var node = _this.nodes[id];\n        node.handler();\n        node.handler = _this.callBackend(node.func, node.args);\n      });\n\n      _this.previews.backendChanged(_this);\n\n      var newBackend = _this.backends[_this.current];\n      newBackend.instance.setup();\n\n      if (newBackend.skipDispatchOnTransition) {\n        return;\n      }\n\n      var newEvent = null;\n\n      try {\n        newEvent = new event.constructor(event.type, event);\n      } catch (_e) {\n        newEvent = document.createEvent('Event');\n        newEvent.initEvent(event.type, event.bubbles, event.cancelable);\n      }\n\n      event.target.dispatchEvent(newEvent);\n    }\n  };\n\n  this.callBackend = function (func, args) {\n    var _this$backends$_this$;\n\n    return (_this$backends$_this$ = _this.backends[_this.current].instance)[func].apply(_this$backends$_this$, _toConsumableArray$1(args));\n  };\n\n  this.connectBackend = function (func, args) {\n    var nodeId = \"\".concat(func, \"_\").concat(args[0]);\n\n    var handler = _this.callBackend(func, args);\n\n    _this.nodes[nodeId] = {\n      func: func,\n      args: args,\n      handler: handler\n    };\n    return function () {\n      var _this$nodes$nodeId;\n\n      var r = (_this$nodes$nodeId = _this.nodes[nodeId]).handler.apply(_this$nodes$nodeId, arguments);\n\n      delete _this.nodes[nodeId];\n      return r;\n    };\n  };\n\n  var options = Object.assign({\n    backends: []\n  }, sourceOptions || {});\n\n  if (options.backends.length < 1) {\n    throw new Error(\"You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx\");\n  }\n\n  this.current = 0;\n  this.previews = new PreviewList();\n  this.backends = [];\n  options.backends.forEach(function (backend) {\n    if (!backend.backend) {\n      throw new Error(\"You must specify a 'backend' property in your Backend entry: \".concat(backend));\n    }\n\n    var transition = backend.transition;\n\n    if (transition && !transition._isMBTransition) {\n      throw new Error(\"You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: \".concat(backend));\n    }\n\n    _this.backends.push({\n      instance: backend.backend(manager, context, backend.options),\n      preview: backend.preview || false,\n      transition: transition,\n      skipDispatchOnTransition: Boolean(backend.skipDispatchOnTransition)\n    });\n  });\n  this.nodes = {};\n} // DnD Backend API\n;\n\nvar MultiBackend = (function (manager, context, options) {\n  return new _default(manager, context, options);\n});\n\nvar propTypes = {exports: {}};\n\nvar reactIs$1 = {exports: {}};\n\nvar reactIs_production_min = {};\n\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nreactIs_production_min.AsyncMode = l;\nreactIs_production_min.ConcurrentMode = m;\nreactIs_production_min.ContextConsumer = k;\nreactIs_production_min.ContextProvider = h;\nreactIs_production_min.Element = c;\nreactIs_production_min.ForwardRef = n;\nreactIs_production_min.Fragment = e;\nreactIs_production_min.Lazy = t;\nreactIs_production_min.Memo = r;\nreactIs_production_min.Portal = d;\nreactIs_production_min.Profiler = g;\nreactIs_production_min.StrictMode = f;\nreactIs_production_min.Suspense = p;\n\nreactIs_production_min.isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nreactIs_production_min.isConcurrentMode = A;\n\nreactIs_production_min.isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nreactIs_production_min.isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nreactIs_production_min.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nreactIs_production_min.isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nreactIs_production_min.isFragment = function (a) {\n  return z(a) === e;\n};\n\nreactIs_production_min.isLazy = function (a) {\n  return z(a) === t;\n};\n\nreactIs_production_min.isMemo = function (a) {\n  return z(a) === r;\n};\n\nreactIs_production_min.isPortal = function (a) {\n  return z(a) === d;\n};\n\nreactIs_production_min.isProfiler = function (a) {\n  return z(a) === g;\n};\n\nreactIs_production_min.isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nreactIs_production_min.isSuspense = function (a) {\n  return z(a) === p;\n};\n\nreactIs_production_min.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nreactIs_production_min.typeOf = z;\n\nvar reactIs_development = {};\n\n/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function () {\n    // nor polyfill, then a plain number is used for performance.\n\n    var hasSymbol = typeof Symbol === 'function' && Symbol.for;\n    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n    var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n    var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n    // (unstable) APIs that have been removed. Can we remove the symbols?\n\n    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n    var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n    var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n    var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\n    var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n    var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n    var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\n    var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\n    var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\n    var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\n    function isValidElementType(type) {\n      return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n      type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n    }\n\n    function typeOf(object) {\n      if (typeof object === 'object' && object !== null) {\n        var $$typeof = object.$$typeof;\n\n        switch ($$typeof) {\n          case REACT_ELEMENT_TYPE:\n            var type = object.type;\n\n            switch (type) {\n              case REACT_ASYNC_MODE_TYPE:\n              case REACT_CONCURRENT_MODE_TYPE:\n              case REACT_FRAGMENT_TYPE:\n              case REACT_PROFILER_TYPE:\n              case REACT_STRICT_MODE_TYPE:\n              case REACT_SUSPENSE_TYPE:\n                return type;\n\n              default:\n                var $$typeofType = type && type.$$typeof;\n\n                switch ($$typeofType) {\n                  case REACT_CONTEXT_TYPE:\n                  case REACT_FORWARD_REF_TYPE:\n                  case REACT_LAZY_TYPE:\n                  case REACT_MEMO_TYPE:\n                  case REACT_PROVIDER_TYPE:\n                    return $$typeofType;\n\n                  default:\n                    return $$typeof;\n                }\n\n            }\n\n          case REACT_PORTAL_TYPE:\n            return $$typeof;\n        }\n      }\n\n      return undefined;\n    } // AsyncMode is deprecated along with isAsyncMode\n\n\n    var AsyncMode = REACT_ASYNC_MODE_TYPE;\n    var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n    var ContextConsumer = REACT_CONTEXT_TYPE;\n    var ContextProvider = REACT_PROVIDER_TYPE;\n    var Element = REACT_ELEMENT_TYPE;\n    var ForwardRef = REACT_FORWARD_REF_TYPE;\n    var Fragment = REACT_FRAGMENT_TYPE;\n    var Lazy = REACT_LAZY_TYPE;\n    var Memo = REACT_MEMO_TYPE;\n    var Portal = REACT_PORTAL_TYPE;\n    var Profiler = REACT_PROFILER_TYPE;\n    var StrictMode = REACT_STRICT_MODE_TYPE;\n    var Suspense = REACT_SUSPENSE_TYPE;\n    var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n    function isAsyncMode(object) {\n      {\n        if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n          hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n          console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n        }\n      }\n      return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n    }\n\n    function isConcurrentMode(object) {\n      return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n    }\n\n    function isContextConsumer(object) {\n      return typeOf(object) === REACT_CONTEXT_TYPE;\n    }\n\n    function isContextProvider(object) {\n      return typeOf(object) === REACT_PROVIDER_TYPE;\n    }\n\n    function isElement(object) {\n      return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n    }\n\n    function isForwardRef(object) {\n      return typeOf(object) === REACT_FORWARD_REF_TYPE;\n    }\n\n    function isFragment(object) {\n      return typeOf(object) === REACT_FRAGMENT_TYPE;\n    }\n\n    function isLazy(object) {\n      return typeOf(object) === REACT_LAZY_TYPE;\n    }\n\n    function isMemo(object) {\n      return typeOf(object) === REACT_MEMO_TYPE;\n    }\n\n    function isPortal(object) {\n      return typeOf(object) === REACT_PORTAL_TYPE;\n    }\n\n    function isProfiler(object) {\n      return typeOf(object) === REACT_PROFILER_TYPE;\n    }\n\n    function isStrictMode(object) {\n      return typeOf(object) === REACT_STRICT_MODE_TYPE;\n    }\n\n    function isSuspense(object) {\n      return typeOf(object) === REACT_SUSPENSE_TYPE;\n    }\n\n    reactIs_development.AsyncMode = AsyncMode;\n    reactIs_development.ConcurrentMode = ConcurrentMode;\n    reactIs_development.ContextConsumer = ContextConsumer;\n    reactIs_development.ContextProvider = ContextProvider;\n    reactIs_development.Element = Element;\n    reactIs_development.ForwardRef = ForwardRef;\n    reactIs_development.Fragment = Fragment;\n    reactIs_development.Lazy = Lazy;\n    reactIs_development.Memo = Memo;\n    reactIs_development.Portal = Portal;\n    reactIs_development.Profiler = Profiler;\n    reactIs_development.StrictMode = StrictMode;\n    reactIs_development.Suspense = Suspense;\n    reactIs_development.isAsyncMode = isAsyncMode;\n    reactIs_development.isConcurrentMode = isConcurrentMode;\n    reactIs_development.isContextConsumer = isContextConsumer;\n    reactIs_development.isContextProvider = isContextProvider;\n    reactIs_development.isElement = isElement;\n    reactIs_development.isForwardRef = isForwardRef;\n    reactIs_development.isFragment = isFragment;\n    reactIs_development.isLazy = isLazy;\n    reactIs_development.isMemo = isMemo;\n    reactIs_development.isPortal = isPortal;\n    reactIs_development.isProfiler = isProfiler;\n    reactIs_development.isStrictMode = isStrictMode;\n    reactIs_development.isSuspense = isSuspense;\n    reactIs_development.isValidElementType = isValidElementType;\n    reactIs_development.typeOf = typeOf;\n  })();\n}\n\nif (process.env.NODE_ENV === 'production') {\n  reactIs$1.exports = reactIs_production_min;\n} else {\n  reactIs$1.exports = reactIs_development;\n}\n\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols$1 = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols$1) {\n      symbols = getOwnPropertySymbols$1(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret$3 = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret$3;\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar printWarning$1 = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret$2 = ReactPropTypesSecret_1;\n\n  var loggedTypeFailures = {};\n  var has$1 = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning$1 = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes$1(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has$1(typeSpecs, typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$2);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning$1((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning$1('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\n\n\ncheckPropTypes$1.resetWarningCache = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n};\n\nvar checkPropTypes_1 = checkPropTypes$1;\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactIs$1 = reactIs$1.exports;\n\nvar assign = objectAssign;\n\nvar ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n\nvar checkPropTypes = checkPropTypes_1;\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\n\nvar printWarning = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nvar factoryWithTypeCheckers = function (isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret$1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret$1);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!ReactIs$1.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n\n        if (type === 'symbol') {\n          return String(value);\n        }\n\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret$1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = assign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret$1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // falsy value can't be a Symbol\n\n\n    if (!propValue) {\n      return false;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret = ReactPropTypesSecret_1;\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  }\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = reactIs$1.exports; // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  propTypes.exports = factoryWithTypeCheckers(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  propTypes.exports = factoryWithThrowingShims();\n}\n\nvar PropTypes = propTypes.exports;\n\n/**\n * Create the React Context\n */\n\nvar DndContext = /*#__PURE__*/createContext({\n  dragDropManager: undefined\n});\n\nvar HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));\n\n/**\r\n * Use invariant() to assert state which your program assumes to be true.\r\n *\r\n * Provide sprintf-style format (only %s is supported) and arguments\r\n * to provide information about what broke and what you were\r\n * expecting.\r\n *\r\n * The invariant message will be stripped in production, but the invariant\r\n * will remain to ensure logic does not differ in production.\r\n */\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nvar INIT_COORDS = 'dnd-core/INIT_COORDS';\nvar BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nvar PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nvar HOVER = 'dnd-core/HOVER';\nvar DROP = 'dnd-core/DROP';\nvar END_DRAG = 'dnd-core/END_DRAG';\n\nfunction setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}\n\nfunction _typeof$5(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$5 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$5 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$5(obj);\n} // cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\n\n\nfunction get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nfunction without$1(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nfunction isObject(input) {\n  return _typeof$5(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nfunction xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nfunction intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}\n\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nfunction createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants$1(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants$1(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}\n\nfunction createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}\n\nfunction matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}\n\nfunction createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}\n\nfunction ownKeys$4(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$4(Object(source), true).forEach(function (key) {\n        _defineProperty$i(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$4(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$i(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nfunction createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread$4(_objectSpread$4({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}\n\nfunction createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}\n\nfunction createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}\n\nfunction _classCallCheck$g(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$g(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$g(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$g(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$g(Constructor, staticProps);\n  return Constructor;\n}\nvar DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck$g(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass$g(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\n\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n} // Inlined version of the `symbol-observable` polyfill\n\n\nvar $$observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject$1(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n} // Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\n\n\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject$1(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nvar strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nfunction areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nfunction areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$3(Object(source), true).forEach(function (key) {\n        _defineProperty$h(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$3(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$h(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar initialState$1 = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nfunction reduce$5() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState$1;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread$3(_objectSpread$3({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState$1;\n\n    default:\n      return state;\n  }\n}\n\nvar ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nvar ADD_TARGET = 'dnd-core/ADD_TARGET';\nvar REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nvar REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nfunction addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nfunction addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nfunction removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nfunction removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$2(Object(source), true).forEach(function (key) {\n        _defineProperty$g(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$2(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$g(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nfunction reduce$4() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        targetIds: without$1(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread$2(_objectSpread$2({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction reduce$3() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}\n\nvar NONE = [];\nvar ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nfunction areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}\n\nfunction reduce$2() {\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}\n\nfunction reduce$1() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty$f(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty$f(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nfunction reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: reduce$2(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread$1(_objectSpread$1({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: reduce$5(state.dragOffset, action),\n    refCount: reduce$3(state.refCount, action),\n    dragOperation: reduce$4(state.dragOperation, action),\n    stateId: reduce$1(state.stateId)\n  };\n}\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nfunction add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nfunction subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nfunction getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nfunction getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}\n\nfunction _classCallCheck$f(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$f(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$f(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$f(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$f(Constructor, staticProps);\n  return Constructor;\n}\nvar DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck$f(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass$f(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      }; // undefined on initial render\n\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset$1() {\n      return getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset$1() {\n      return getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();\n\nvar nextUniqueId = 0;\nfunction getNextUniqueId() {\n  return nextUniqueId++;\n}\n\nfunction _typeof$4(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$4 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$4 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$4(obj);\n}\nfunction validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nfunction validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nfunction validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof$4(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nfunction rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nfunction asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();\n\nfunction _classCallCheck$e(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$e(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$e(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$e(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$e(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _slicedToArray$5(arr, i) {\n  return _arrayWithHoles$5(arr) || _iterableToArrayLimit$5(arr, i) || _unsupportedIterableToArray$6(arr, i) || _nonIterableRest$5();\n}\n\nfunction _nonIterableRest$5() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$6(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$6(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$6(o, minLen);\n}\n\nfunction _arrayLikeToArray$6(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$5(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$5(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray$5(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nvar HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck$e(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass$e(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource$1(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget$1(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource$1(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget$1(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();\n\nfunction createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nvar _excluded = [\"children\"];\n\nfunction _slicedToArray$4(arr, i) {\n  return _arrayWithHoles$4(arr) || _iterableToArrayLimit$4(arr, i) || _unsupportedIterableToArray$5(arr, i) || _nonIterableRest$4();\n}\n\nfunction _nonIterableRest$4() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$5(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$5(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$5(o, minLen);\n}\n\nfunction _arrayLikeToArray$5(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$4(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$4(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nvar DndProvider$1 = /*#__PURE__*/memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray$4(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}\n\nfunction _classCallCheck$d(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$d(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$d(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$d(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$d(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$e(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nvar DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck$d(this, DragSourceMonitorImpl);\n\n    _defineProperty$e(this, \"internalMonitor\", void 0);\n\n    _defineProperty$e(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass$d(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();\n\nfunction _classCallCheck$c(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$c(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$c(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$c(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$c(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$d(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar isCallingCanDrop = false;\nvar DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck$c(this, DropTargetMonitorImpl);\n\n    _defineProperty$d(this, \"internalMonitor\", void 0);\n\n    _defineProperty$d(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass$c(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null; // When passed a node, call the hook straight away.\n\n    if (! /*#__PURE__*/isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nfunction wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return /*#__PURE__*/cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return /*#__PURE__*/cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}\n\nfunction _typeof$3(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$3 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$3 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$3(obj);\n}\n\nfunction isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof$3(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}\n\nfunction shallowEqual(objA, objB, compare, compareContext) {\n  var compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction _classCallCheck$b(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$b(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$b(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$b(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$b(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$c(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck$b(this, SourceConnector);\n\n    _defineProperty$c(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty$c(this, \"handlerId\", null);\n\n    _defineProperty$c(this, \"dragSourceRef\", null);\n\n    _defineProperty$c(this, \"dragSourceNode\", void 0);\n\n    _defineProperty$c(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty$c(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty$c(this, \"dragPreviewRef\", null);\n\n    _defineProperty$c(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty$c(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty$c(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty$c(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty$c(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty$c(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass$b(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();\n\nfunction _classCallCheck$a(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$a(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$a(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$a(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$a(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$b(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck$a(this, TargetConnector);\n\n    _defineProperty$b(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty$b(this, \"handlerId\", null);\n\n    _defineProperty$b(this, \"dropTargetRef\", null);\n\n    _defineProperty$b(this, \"dropTargetNode\", void 0);\n\n    _defineProperty$b(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty$b(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty$b(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty$b(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty$b(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty$b(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass$a(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();\n\nfunction registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nfunction registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}\n\nfunction _typeof$2(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$2 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$2 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$2(obj);\n}\nfunction isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nfunction isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nfunction isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nfunction checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\n\nfunction isObjectLike(input) {\n  return _typeof$2(input) === 'object' && input !== null;\n}\n\nfunction isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\n\nvar reactIs = reactIs$1.exports;\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nvar hoistNonReactStatics_cjs = hoistNonReactStatics;\n\nvar hoistStatics = hoistNonReactStatics_cjs;\n\nfunction _typeof$1(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof$1 = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof$1 = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof$1(obj);\n}\n\nfunction _classCallCheck$9(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$9(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$9(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$9(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$9(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof$1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty$a(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\nfunction DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck$9(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty$a(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty$a(_assertThisInitialized(_this), \"ref\", /*#__PURE__*/createRef());\n\n        _defineProperty$a(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass$9(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof$1(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty$a(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty$a(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck$8(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$8(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$8(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$8(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$8(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$9(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck$8(this, DragSourceImpl);\n\n    _defineProperty$9(this, \"spec\", void 0);\n\n    _defineProperty$9(this, \"monitor\", void 0);\n\n    _defineProperty$9(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass$8(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();\n\nfunction useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nfunction useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}\n\nfunction useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}\n\nfunction _slicedToArray$3(arr, i) {\n  return _arrayWithHoles$3(arr) || _iterableToArrayLimit$3(arr, i) || _unsupportedIterableToArray$4(arr, i) || _nonIterableRest$3();\n}\n\nfunction _nonIterableRest$3() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$4(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$4(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);\n}\n\nfunction _arrayLikeToArray$4(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$3(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$3(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray$3(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$3(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$3(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$3(arr);\n}\n\nfunction _arrayLikeToArray$3(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\nfunction useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}\n\nfunction useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}\n\nfunction useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) if (!equal(a[i], b[i])) return false;\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise\n\n\n  return a !== a && b !== b;\n};\n\nfunction _slicedToArray$2(arr, i) {\n  return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _unsupportedIterableToArray$2(arr, i) || _nonIterableRest$2();\n}\n\nfunction _nonIterableRest$2() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\n\nfunction _arrayLikeToArray$2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$2(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$2(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nfunction useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!fastDeepEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray$1(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}\n\nfunction useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}\n\nfunction useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nfunction useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nfunction useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}\n\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nfunction useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}\n\nfunction _classCallCheck$7(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$7(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$7(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$7(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$7(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$8(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck$7(this, DropTargetImpl);\n\n    _defineProperty$8(this, \"spec\", void 0);\n\n    _defineProperty$8(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass$7(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();\n\nfunction useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}\n\nfunction useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}\n\nfunction useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}\n\nfunction useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nfunction useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\nvar PreviewPortalContext = /*#__PURE__*/React.createContext(null);\nvar DndProvider = function DndProvider(props) {\n  var previewPortal = useRef();\n  return /*#__PURE__*/React.createElement(PreviewPortalContext.Provider, {\n    value: previewPortal.current\n  }, /*#__PURE__*/React.createElement(DndProvider$1, _extends({\n    backend: MultiBackend\n  }, props)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: previewPortal\n  }));\n};\nDndProvider.propTypes = {\n  manager: PropTypes.any,\n  context: PropTypes.any,\n  options: PropTypes.any,\n  debugMode: PropTypes.bool\n};\n\n({\n  generator: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\n// cheap lodash replacements\nfunction memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nfunction without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nfunction union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}\n\nfunction _classCallCheck$6(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$6(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$6(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$6(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$6(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$7(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck$6(this, EnterLeaveCounter);\n\n    _defineProperty$7(this, \"entered\", []);\n\n    _defineProperty$7(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass$6(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nvar isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nvar isSafari = memoize(function () {\n  return Boolean(window.safari);\n});\n\nfunction _classCallCheck$5(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$5(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$5(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$5(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$5(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$6(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck$5(this, MonotonicInterpolant);\n\n    _defineProperty$6(this, \"xs\", void 0);\n\n    _defineProperty$6(this, \"ys\", void 0);\n\n    _defineProperty$6(this, \"c1s\", void 0);\n\n    _defineProperty$6(this, \"c2s\", void 0);\n\n    _defineProperty$6(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass$5(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nvar ELEMENT_NODE$1 = 1;\nfunction getNodeClientOffset$1(node) {\n  var el = node.nodeType === ELEMENT_NODE$1 ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nfunction getEventClientOffset$1(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset$1(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}\n\nvar FILE = '__NATIVE_FILE__';\nvar URL = '__NATIVE_URL__';\nvar TEXT = '__NATIVE_TEXT__';\nvar HTML = '__NATIVE_HTML__';\n\nvar NativeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  FILE: FILE,\n  URL: URL,\n  TEXT: TEXT,\n  HTML: HTML\n});\n\nfunction getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}\n\nvar _nativeTypesConfig;\n\nfunction _defineProperty$5(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty$5(_nativeTypesConfig, FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty$5(_nativeTypesConfig, HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty$5(_nativeTypesConfig, URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty$5(_nativeTypesConfig, TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);\n\nfunction _classCallCheck$4(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$4(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$4(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$4(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$4(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$4(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck$4(this, NativeDragSource);\n\n    _defineProperty$4(this, \"item\", void 0);\n\n    _defineProperty$4(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass$4(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();\n\nfunction createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nfunction matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}\n\nfunction _classCallCheck$3(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$3(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$3(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$3(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$3(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar OptionsReader$1 = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck$3(this, OptionsReader);\n\n    _defineProperty$3(this, \"ownerDocument\", null);\n\n    _defineProperty$3(this, \"globalContext\", void 0);\n\n    _defineProperty$3(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass$3(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty$2(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck$2(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$2(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$2(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$2(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$2(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck$2(this, HTML5BackendImpl);\n\n    _defineProperty$2(this, \"options\", void 0);\n\n    _defineProperty$2(this, \"actions\", void 0);\n\n    _defineProperty$2(this, \"monitor\", void 0);\n\n    _defineProperty$2(this, \"registry\", void 0);\n\n    _defineProperty$2(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty$2(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty$2(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty$2(this, \"sourceNodes\", new Map());\n\n    _defineProperty$2(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty$2(this, \"dragStartSourceIds\", null);\n\n    _defineProperty$2(this, \"dropTargetIds\", []);\n\n    _defineProperty$2(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty$2(this, \"currentNativeSource\", null);\n\n    _defineProperty$2(this, \"currentNativeHandle\", null);\n\n    _defineProperty$2(this, \"currentDragSourceNode\", null);\n\n    _defineProperty$2(this, \"altKeyPressed\", false);\n\n    _defineProperty$2(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty$2(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty$2(this, \"dragOverTargetIds\", null);\n\n    _defineProperty$2(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset$1(source) || null;\n    });\n\n    _defineProperty$2(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty$2(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty$2(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty$2(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset$1(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset$1(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty$2(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset$1(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty$2(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty$2(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset$1(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty$2(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader$1(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass$2(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();\n\nvar emptyImage;\nfunction getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}\n\nvar HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};\n\nvar ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));\n\n// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nfunction eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nfunction eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nfunction isTouchEvent(e) {\n  return !!e.targetTouches;\n}\n\nvar ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nfunction getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n}\nfunction getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}\n\nfunction distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nfunction inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (var i = 0; i < angleRanges.length; ++i) {\n    if ((angleRanges[i].start == null || angle >= angleRanges[i].start) && (angleRanges[i].end == null || angle <= angleRanges[i].end)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n\n  try {\n    addEventListener('test', function () {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return true;\n      }\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n}();\n\nfunction _classCallCheck$1(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$1(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$1(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$1(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$1(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(args, context) {\n    _classCallCheck$1(this, OptionsReader);\n\n    _defineProperty$1(this, \"args\", void 0);\n\n    _defineProperty$1(this, \"context\", void 0);\n\n    this.args = args;\n    this.context = context;\n  }\n\n  _createClass$1(OptionsReader, [{\n    key: \"delay\",\n    get: function get() {\n      var _this$args$delay;\n\n      return (_this$args$delay = this.args.delay) !== null && _this$args$delay !== void 0 ? _this$args$delay : 0;\n    }\n  }, {\n    key: \"scrollAngleRanges\",\n    get: function get() {\n      return this.args.scrollAngleRanges;\n    }\n  }, {\n    key: \"getDropTargetElementsAtPoint\",\n    get: function get() {\n      return this.args.getDropTargetElementsAtPoint;\n    }\n  }, {\n    key: \"ignoreContextMenu\",\n    get: function get() {\n      var _this$args$ignoreCont;\n\n      return (_this$args$ignoreCont = this.args.ignoreContextMenu) !== null && _this$args$ignoreCont !== void 0 ? _this$args$ignoreCont : false;\n    }\n  }, {\n    key: \"enableHoverOutsideTarget\",\n    get: function get() {\n      var _this$args$enableHove;\n\n      return (_this$args$enableHove = this.args.enableHoverOutsideTarget) !== null && _this$args$enableHove !== void 0 ? _this$args$enableHove : false;\n    }\n  }, {\n    key: \"enableKeyboardEvents\",\n    get: function get() {\n      var _this$args$enableKeyb;\n\n      return (_this$args$enableKeyb = this.args.enableKeyboardEvents) !== null && _this$args$enableKeyb !== void 0 ? _this$args$enableKeyb : false;\n    }\n  }, {\n    key: \"enableMouseEvents\",\n    get: function get() {\n      var _this$args$enableMous;\n\n      return (_this$args$enableMous = this.args.enableMouseEvents) !== null && _this$args$enableMous !== void 0 ? _this$args$enableMous : false;\n    }\n  }, {\n    key: \"enableTouchEvents\",\n    get: function get() {\n      var _this$args$enableTouc;\n\n      return (_this$args$enableTouc = this.args.enableTouchEvents) !== null && _this$args$enableTouc !== void 0 ? _this$args$enableTouc : true;\n    }\n  }, {\n    key: \"touchSlop\",\n    get: function get() {\n      return this.args.touchSlop || 0;\n    }\n  }, {\n    key: \"delayTouchStart\",\n    get: function get() {\n      var _ref, _this$args$delayTouch, _this$args, _this$args2;\n\n      return (_ref = (_this$args$delayTouch = (_this$args = this.args) === null || _this$args === void 0 ? void 0 : _this$args.delayTouchStart) !== null && _this$args$delayTouch !== void 0 ? _this$args$delayTouch : (_this$args2 = this.args) === null || _this$args2 === void 0 ? void 0 : _this$args2.delay) !== null && _ref !== void 0 ? _ref : 0;\n    }\n  }, {\n    key: \"delayMouseStart\",\n    get: function get() {\n      var _ref2, _this$args$delayMouse, _this$args3, _this$args4;\n\n      return (_ref2 = (_this$args$delayMouse = (_this$args3 = this.args) === null || _this$args3 === void 0 ? void 0 : _this$args3.delayMouseStart) !== null && _this$args$delayMouse !== void 0 ? _this$args$delayMouse : (_this$args4 = this.args) === null || _this$args4 === void 0 ? void 0 : _this$args4.delay) !== null && _ref2 !== void 0 ? _ref2 : 0;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$context;\n\n      if ((_this$context = this.context) !== null && _this$context !== void 0 && _this$context.document) {\n        return this.context.document;\n      }\n\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$args5;\n\n      return ((_this$args5 = this.args) === null || _this$args5 === void 0 ? void 0 : _this$args5.rootElement) || this.document;\n    }\n  }]);\n\n  return OptionsReader;\n}();\n\nvar _eventNames;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\nvar eventNames = (_eventNames = {}, _defineProperty(_eventNames, ListenerType.mouse, {\n  start: 'mousedown',\n  move: 'mousemove',\n  end: 'mouseup',\n  contextmenu: 'contextmenu'\n}), _defineProperty(_eventNames, ListenerType.touch, {\n  start: 'touchstart',\n  move: 'touchmove',\n  end: 'touchend'\n}), _defineProperty(_eventNames, ListenerType.keyboard, {\n  keydown: 'keydown'\n}), _eventNames);\nvar TouchBackendImpl = /*#__PURE__*/function () {\n  // React-DnD Dependencies\n  // Internal State\n  // Patch for iOS 13, discussion over #1585\n  function TouchBackendImpl(manager, context, options) {\n    var _this = this;\n\n    _classCallCheck(this, TouchBackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"sourceNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", void 0);\n\n    _defineProperty(this, \"targetNodes\", void 0);\n\n    _defineProperty(this, \"_mouseClientOffset\", void 0);\n\n    _defineProperty(this, \"_isScrolling\", void 0);\n\n    _defineProperty(this, \"listenerTypes\", void 0);\n\n    _defineProperty(this, \"moveStartSourceIds\", void 0);\n\n    _defineProperty(this, \"waitingForDelay\", void 0);\n\n    _defineProperty(this, \"timeout\", void 0);\n\n    _defineProperty(this, \"dragOverTargetIds\", void 0);\n\n    _defineProperty(this, \"draggedSourceNode\", void 0);\n\n    _defineProperty(this, \"draggedSourceNodeRemovalObserver\", void 0);\n\n    _defineProperty(this, \"lastTargetTouchFallback\", void 0);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var element = _this.sourceNodes.get(sourceId);\n\n      return element && getNodeClientOffset(element);\n    });\n\n    _defineProperty(this, \"handleTopMoveStartCapture\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      _this.moveStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleMoveStart\", function (sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(_this.moveStartSourceIds)) {\n        _this.moveStartSourceIds.unshift(sourceId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMoveStart\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      var clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          _this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        _this._mouseClientOffset = clientOffset;\n      }\n\n      _this.waitingForDelay = false;\n    });\n\n    _defineProperty(this, \"handleTopMoveStartDelay\", function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      var delay = e.type === eventNames.touch.start ? _this.options.delayTouchStart : _this.options.delayMouseStart;\n      _this.timeout = setTimeout(_this.handleTopMoveStart.bind(_this, e), delay);\n      _this.waitingForDelay = true;\n    });\n\n    _defineProperty(this, \"handleTopMoveCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleMove\", function (_evt, targetId) {\n      if (_this.dragOverTargetIds) {\n        _this.dragOverTargetIds.unshift(targetId);\n      }\n    });\n\n    _defineProperty(this, \"handleTopMove\", function (e) {\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      if (!_this.document || _this.waitingForDelay) {\n        return;\n      }\n\n      var moveStartSourceIds = _this.moveStartSourceIds,\n          dragOverTargetIds = _this.dragOverTargetIds;\n      var enableHoverOutsideTarget = _this.options.enableHoverOutsideTarget;\n      var clientOffset = getEventClientOffset(e, _this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (_this._isScrolling || !_this.monitor.isDragging() && inAngleRanges(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, _this.options.scrollAngleRanges)) {\n        _this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!_this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      _this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (_this.options.touchSlop ? _this.options.touchSlop : 0)) {\n        _this.moveStartSourceIds = undefined;\n\n        _this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: _this._mouseClientOffset,\n          getSourceClientOffset: _this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!_this.monitor.isDragging()) {\n        return;\n      }\n\n      var sourceNode = _this.sourceNodes.get(_this.monitor.getSourceId());\n\n      _this.installSourceNodeRemovalObserver(sourceNode);\n\n      _this.actions.publishDragSource();\n\n      if (e.cancelable) e.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      var dragOverTargetNodes = (dragOverTargetIds || []).map(function (key) {\n        return _this.targetNodes.get(key);\n      }).filter(function (e) {\n        return !!e;\n      }); // Get the a ordered list of nodes that are touched by\n\n      var elementsAtPoint = _this.options.getDropTargetElementsAtPoint ? _this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : _this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      var elementsAtPointExtended = [];\n\n      for (var nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (currentNode && elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      var orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      }) // Map back the nodes elements to targetIds\n      .map(function (node) {\n        return _this._getDropTargetId(node);\n      }) // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      }); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (var targetId in _this.targetNodes) {\n          var targetNode = _this.targetNodes.get(targetId);\n\n          if (sourceNode && targetNode && targetNode.contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n\n      _this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    });\n\n    _defineProperty(this, \"_getDropTargetId\", function (node) {\n      var keys = _this.targetNodes.keys();\n\n      var next = keys.next();\n\n      while (next.done === false) {\n        var targetId = next.value;\n\n        if (node === _this.targetNodes.get(targetId)) {\n          return targetId;\n        } else {\n          next = keys.next();\n        }\n      }\n\n      return undefined;\n    });\n\n    _defineProperty(this, \"handleTopMoveEndCapture\", function (e) {\n      _this._isScrolling = false;\n      _this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!_this.monitor.isDragging() || _this.monitor.didDrop()) {\n        _this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      if (e.cancelable) e.preventDefault();\n      _this._mouseClientOffset = {};\n\n      _this.uninstallSourceNodeRemovalObserver();\n\n      _this.actions.drop();\n\n      _this.actions.endDrag();\n    });\n\n    _defineProperty(this, \"handleCancelOnEscape\", function (e) {\n      if (e.key === 'Escape' && _this.monitor.isDragging()) {\n        _this._mouseClientOffset = {};\n\n        _this.uninstallSourceNodeRemovalObserver();\n\n        _this.actions.endDrag();\n      }\n    });\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = new Map();\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.targetNodes = new Map();\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(TouchBackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragOverTargetI;\n\n      return {\n        sourceNodes: this.sourceNodes.size,\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        targetNodes: this.targetNodes.size,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      invariant(!TouchBackendImpl.isSetUp, 'Cannot have two Touch backends at the same time.');\n      TouchBackendImpl.isSetUp = true;\n      this.addEventListener(root, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(root, 'move', this.handleTopMove);\n      this.addEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.addEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.addEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.options.rootElement;\n\n      if (!root) {\n        return;\n      }\n\n      TouchBackendImpl.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(root, 'start', this.handleTopMoveStart);\n      this.removeEventListener(root, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(root, 'move', this.handleTopMove);\n      this.removeEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.removeEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.removeEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n      }\n\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node) {\n      var _this2 = this;\n\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes.set(sourceId, node);\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        _this2.sourceNodes.delete(sourceId);\n\n        _this2.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this3.sourcePreviewNodes.delete(sourceId);\n\n        _this3.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var root = this.options.rootElement;\n\n      if (!this.document || !root) {\n        return function () {\n          /* noop */\n        };\n      }\n\n      var handleMove = function handleMove(e) {\n        if (!_this4.document || !root || !_this4.monitor.isDragging()) {\n          return;\n        }\n\n        var coords;\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n\n\n        var droppedOn = coords != null ? _this4.document.elementFromPoint(coords.x, coords.y) : undefined;\n        var childMatch = droppedOn && node.contains(droppedOn);\n\n        if (droppedOn === node || childMatch) {\n          return _this4.handleMove(e, targetId);\n        }\n      };\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n\n\n      this.addEventListener(this.document.body, 'move', handleMove);\n      this.targetNodes.set(targetId, node);\n      return function () {\n        if (_this4.document) {\n          _this4.targetNodes.delete(targetId);\n\n          _this4.removeEventListener(_this4.document.body, 'move', handleMove);\n        }\n      };\n    }\n  }, {\n    key: \"getTopMoveStartHandler\",\n    value: function getTopMoveStartHandler() {\n      if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: \"installSourceNodeRemovalObserver\",\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new MutationObserver(function () {\n        if (node && !node.parentElement) {\n          _this5.resurrectSourceNode();\n\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n\n      if (!node || !node.parentElement) {\n        return;\n      }\n\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"resurrectSourceNode\",\n    value: function resurrectSourceNode() {\n      if (this.document && this.draggedSourceNode) {\n        this.draggedSourceNode.style.display = 'none';\n        this.draggedSourceNode.removeAttribute('data-reactid');\n        this.document.body.appendChild(this.draggedSourceNode);\n      }\n    }\n  }, {\n    key: \"uninstallSourceNodeRemovalObserver\",\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n\n      this.draggedSourceNodeRemovalObserver = undefined;\n      this.draggedSourceNode = undefined;\n    }\n  }]);\n\n  return TouchBackendImpl;\n}();\n\n_defineProperty(TouchBackendImpl, \"isSetUp\", void 0);\n\nvar TouchBackend = function createBackend(manager) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new TouchBackendImpl(manager, context, options);\n};\n\nvar HTML5toTouch = {\n  backends: [{\n    backend: HTML5Backend,\n    transition: MouseTransition\n  }, {\n    backend: TouchBackend,\n    options: {\n      enableMouseEvents: true\n    },\n    preview: true,\n    transition: TouchTransition\n  }]\n};\n\nconst COLUMNS = 'abcdefgh'.split('');\nconst chessboardPropTypes = {\n  // time in milliseconds for piece to slide to target square. Only used when the position is programmatically changed\n  animationDuration: PropTypes.number,\n  // whether or not arrows can be drawn with right click and dragging\n  areArrowsAllowed: PropTypes.bool,\n  // if pieces are draggable\n  arePiecesDraggable: PropTypes.bool,\n  // if premoves are allowed\n  arePremovesAllowed: PropTypes.bool,\n  // Orientation of the board\n  boardOrientation: PropTypes.oneOf(['white', 'black']),\n  // width of board in pixels. for responsive width show useChessBoardSize/useScreenSize example\n  boardWidth: PropTypes.number,\n  // if premoves should be cleared on right click\n  clearPremovesOnRightClick: PropTypes.bool,\n  // array of custom arrows to draw on the board. Each arrow within the array must be an array of length 2 with strings denoting the from and to square to draw the arrow e.g. [ ['a3', 'a5'], ['g1', 'f3'] ].\n  customArrows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),\n  // string with rgb or hex value to colour drawn arrows\n  customArrowColor: PropTypes.string,\n  // board style object e.g. { borderRadius: '5px', boxShadow: `0 5px 15px rgba(0, 0, 0, 0.5)`}\n  customBoardStyle: PropTypes.object,\n  // dark square style object e.g. { backgroundColor: '#B58863' }\n  customDarkSquareStyle: PropTypes.object,\n  // current drop square style object e.g. { backgroundColor: 'sienna' }\n  customDropSquareStyle: PropTypes.object,\n  // light square style object e.g. { backgroundColor: '#F0D9B5' }\n  customLightSquareStyle: PropTypes.object,\n  // pieces object where each piece returns JSX to render. { wK: ({ isDragging: boolean, squareWidth: pixels, droppedPiece: piece string, targetSquare: square string, sourceSquare: square string }) => jsx }\n  customPieces: PropTypes.object,\n  // premove highlight dark square style object e.g. { backgroundColor: '#F0D9B5' }\n  customPremoveDarkSquareStyle: PropTypes.object,\n  // premove highlight light square style object e.g. { backgroundColor: '#F0D9B5' }\n  customPremoveLightSquareStyle: PropTypes.object,\n  // custom squares style object. e.g. {'e4': {backgroundColor: 'orange'}, ...}\n  customSquareStyles: PropTypes.object,\n  // behavior of pieces when dropped off the board. 'snapback' brings the piece back to it's original square, 'trash' deletes the piece from the board\n  dropOffBoardAction: PropTypes.oneOf(['snapback', 'trash']),\n  // board identifier, necessary if more than one board is mounted for drag and drop.\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  // function called when a piece drag is initiated. Returns if piece is draggable ({ piece: string, sourceSquare: string }) => bool\n  isDraggablePiece: PropTypes.func,\n  // user function that receives current position object when position changes. (currentPosition: object) => void\n  getPositionObject: PropTypes.func,\n  // user function that is run when piece is dragged over a square (square: string) => void\n  onDragOverSquare: PropTypes.func,\n  // user function that is run when mouse leaves a square (square: string) => void\n  onMouseOutSquare: PropTypes.func,\n  // user function that is run when mouse is over a square (square: string) => void\n  onMouseOverSquare: PropTypes.func,\n  // user function that is run when piece is clicked (piece: string) => void\n  onPieceClick: PropTypes.func,\n  // user function that is run when piece is dropped on a square ({ sourceSquare: string, targetSquare: string, piece: string }) => void\n  onPieceDrop: PropTypes.func,\n  // user function that is run when a square is clicked (square: string) => void\n  onSquareClick: PropTypes.func,\n  // user function that is run when a square is right clicked (square: string) => void\n  onSquareRightClick: PropTypes.func,\n  // FEN string or a position object ({ e5: 'wK', e4: 'wP', e7: 'bK' })\n  position: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  // show file character and rank numbers (a..h, 1..8)\n  showBoardNotation: PropTypes.bool // show spare pieces above and below board.\n  // showSparePieces: PropTypes.bool\n\n};\nconst chessboardDefaultProps = {\n  animationDuration: 300,\n  areArrowsAllowed: true,\n  arePiecesDraggable: true,\n  arePremovesAllowed: false,\n  boardOrientation: 'white',\n  boardWidth: 560,\n  clearPremovesOnRightClick: true,\n  customArrows: [],\n  customArrowColor: 'rgb(255,170,0)',\n  customBoardStyle: {},\n  customDarkSquareStyle: {\n    backgroundColor: '#B58863'\n  },\n  customDropSquareStyle: {\n    boxShadow: 'inset 0 0 1px 6px rgba(255,255,255,0.75)'\n  },\n  customLightSquareStyle: {\n    backgroundColor: '#F0D9B5'\n  },\n  customPieces: {},\n  customPremoveDarkSquareStyle: {\n    backgroundColor: '#A42323'\n  },\n  customPremoveLightSquareStyle: {\n    backgroundColor: '#BD2828'\n  },\n  customSquareStyles: {},\n  dropOffBoardAction: 'snapback',\n  id: 0,\n  isDraggablePiece: () => true,\n  getPositionObject: () => {},\n  onDragOverSquare: () => {},\n  onMouseOutSquare: () => {},\n  onMouseOverSquare: () => {},\n  onPieceClick: () => {},\n  onPieceDrop: () => true,\n  onSquareClick: () => {},\n  onSquareRightClick: () => {},\n  position: 'start',\n  showBoardNotation: true // showSparePieces: false\n\n};\n\nconst startPositionObject = {\n  a8: 'bR',\n  b8: 'bN',\n  c8: 'bB',\n  d8: 'bQ',\n  e8: 'bK',\n  f8: 'bB',\n  g8: 'bN',\n  h8: 'bR',\n  a7: 'bP',\n  b7: 'bP',\n  c7: 'bP',\n  d7: 'bP',\n  e7: 'bP',\n  f7: 'bP',\n  g7: 'bP',\n  h7: 'bP',\n  a2: 'wP',\n  b2: 'wP',\n  c2: 'wP',\n  d2: 'wP',\n  e2: 'wP',\n  f2: 'wP',\n  g2: 'wP',\n  h2: 'wP',\n  a1: 'wR',\n  b1: 'wN',\n  c1: 'wB',\n  d1: 'wQ',\n  e1: 'wK',\n  f1: 'wB',\n  g1: 'wN',\n  h1: 'wR'\n};\nconst whiteColumnValues = {\n  a: 0,\n  b: 1,\n  c: 2,\n  d: 3,\n  e: 4,\n  f: 5,\n  g: 6,\n  h: 7\n};\nconst blackColumnValues = {\n  a: 7,\n  b: 6,\n  c: 5,\n  d: 4,\n  e: 3,\n  f: 2,\n  g: 1,\n  h: 0\n};\nconst whiteRows = [7, 6, 5, 4, 3, 2, 1, 0];\nconst blackRows = [0, 1, 2, 3, 4, 5, 6, 7];\nconst getRelativeCoords = (boardOrientation, boardWidth, square) => {\n  const squareWidth = boardWidth / 8;\n  const columns = boardOrientation === 'white' ? whiteColumnValues : blackColumnValues;\n  const rows = boardOrientation === 'white' ? whiteRows : blackRows;\n  const x = columns[square[0]] * squareWidth + squareWidth / 2;\n  const y = rows[square[1] - 1] * squareWidth + squareWidth / 2;\n  return {\n    x,\n    y\n  };\n};\nconst isDifferentFromStart = newPosition => {\n  let isDifferent = false;\n  Object.keys(startPositionObject).forEach(square => {\n    if (newPosition[square] !== startPositionObject[square]) isDifferent = true;\n  });\n  Object.keys(newPosition).forEach(square => {\n    if (startPositionObject[square] !== newPosition[square]) isDifferent = true;\n  });\n  return isDifferent;\n};\nconst getPositionDifferences = (currentPosition, newPosition) => {\n  const difference = {\n    removed: {},\n    added: {}\n  }; // removed from current\n\n  Object.keys(currentPosition).forEach(square => {\n    if (newPosition[square] !== currentPosition[square]) difference.removed[square] = currentPosition[square];\n  }); // added from new\n\n  Object.keys(newPosition).forEach(square => {\n    if (currentPosition[square] !== newPosition[square]) difference.added[square] = newPosition[square];\n  });\n  return difference;\n};\n\nfunction isString(s) {\n  return typeof s === 'string';\n}\n\nfunction convertPositionToObject(position) {\n  if (position === 'start') return fenToObj('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR');\n  if (validFen(position)) return fenToObj(position);\n  if (validPositionObject(position)) return position;\n  return {};\n}\nfunction fenToObj(fen) {\n  if (!validFen(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, '');\n  const rows = fen.split('/');\n  const position = {};\n  let currentRow = 8;\n\n  for (let i = 0; i < 8; i++) {\n    const row = rows[i].split('');\n    let colIdx = 0; // loop through each character in the FEN section\n\n    for (let j = 0; j < row.length; j++) {\n      // number / empty squares\n      if (row[j].search(/[1-8]/) !== -1) {\n        const numEmptySquares = parseInt(row[j], 10);\n        colIdx = colIdx + numEmptySquares;\n      } else {\n        // piece\n        const square = COLUMNS[colIdx] + currentRow;\n        position[square] = fenToPieceCode(row[j]);\n        colIdx = colIdx + 1;\n      }\n    }\n\n    currentRow = currentRow - 1;\n  }\n\n  return position;\n}\n\nfunction expandFenEmptySquares(fen) {\n  return fen.replace(/8/g, '11111111').replace(/7/g, '1111111').replace(/6/g, '111111').replace(/5/g, '11111').replace(/4/g, '1111').replace(/3/g, '111').replace(/2/g, '11');\n}\n\nfunction validFen(fen) {\n  if (!isString(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, ''); // expand the empty square numbers to just 1s\n\n  fen = expandFenEmptySquares(fen); // FEN should be 8 sections separated by slashes\n\n  const chunks = fen.split('/');\n  if (chunks.length !== 8) return false; // check each section\n\n  for (let i = 0; i < 8; i++) {\n    if (chunks[i].length !== 8 || chunks[i].search(/[^kqrnbpKQRNBP1]/) !== -1) {\n      return false;\n    }\n  }\n\n  return true;\n} // convert FEN piece code to bP, wK, etc\n\nfunction fenToPieceCode(piece) {\n  // black piece\n  if (piece.toLowerCase() === piece) {\n    return 'b' + piece.toUpperCase();\n  } // white piece\n\n\n  return 'w' + piece.toUpperCase();\n}\n\nfunction validSquare(square) {\n  return isString(square) && square.search(/^[a-h][1-8]$/) !== -1;\n}\n\nfunction validPieceCode(code) {\n  return isString(code) && code.search(/^[bw][KQRNBP]$/) !== -1;\n}\n\nfunction validPositionObject(pos) {\n  if (pos === null || typeof pos !== 'object') return false;\n\n  for (const i in pos) {\n    if (!pos[i]) continue;\n\n    if (!validSquare(i) || !validPieceCode(pos[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nconst defaultPieces = {\n  wP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  wR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 34,14 L 31,17 L 14,17 L 11,14\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,17 L 31,29.5 L 14,29.5 L 14,17\",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  wB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#ffffff',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,33.5 C 18,32.5 27,32.5 33,33.5\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      })]\n    })\n  }),\n  wK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  bP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  bR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,35.5 L 33,35.5 L 33,35.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 13,31.5 L 32,31.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 31,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 31,16.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \",\n        style: {\n          fill: '#ffffff',\n          stroke: 'none'\n        }\n      })]\n    })\n  }),\n  bB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#000000',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#000000',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\",\n        style: {\n          strokeLinecap: 'butt',\n          fill: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 12,33.5 c 6,-1 15,-1 21,0\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,38.5 A 35,35 1 0 0 34,38.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 11,29 A 35,35 1 0 1 34,29\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 12.5,31.5 L 32.5,31.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"\n        })]\n      })]\n    })\n  }),\n  bK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        },\n        id: \"path6570\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#000000',\n          fillOpacity: '1',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      })]\n    })\n  })\n};\n\nconst ChessboardContext = /*#__PURE__*/React.createContext();\nconst useChessboard = () => useContext(ChessboardContext);\nconst ChessboardProvider = /*#__PURE__*/forwardRef(({\n  animationDuration,\n  areArrowsAllowed,\n  arePiecesDraggable,\n  arePremovesAllowed,\n  boardOrientation,\n  boardWidth,\n  clearPremovesOnRightClick,\n  customArrows,\n  customArrowColor,\n  customBoardStyle,\n  customDarkSquareStyle,\n  customDropSquareStyle,\n  customLightSquareStyle,\n  customPieces,\n  customPremoveDarkSquareStyle,\n  customPremoveLightSquareStyle,\n  customSquareStyles,\n  dropOffBoardAction,\n  id,\n  isDraggablePiece,\n  getPositionObject,\n  onDragOverSquare,\n  onMouseOutSquare,\n  onMouseOverSquare,\n  onPieceClick,\n  onPieceDrop,\n  onSquareClick,\n  onSquareRightClick,\n  position,\n  showBoardNotation,\n  showSparePieces,\n  children\n}, ref) => {\n  // position stored and displayed on board\n  const [currentPosition, setCurrentPosition] = useState(convertPositionToObject(position)); // calculated differences between current and incoming positions\n\n  const [positionDifferences, setPositionDifferences] = useState({}); // colour of last piece moved to determine if premoving\n\n  const [lastPieceColour, setLastPieceColour] = useState(undefined); // current premoves\n\n  const [premoves, setPremoves] = useState([]); // ref used to access current value during timeouts (closures)\n\n  const premovesRef = useRef(premoves); // current right mouse down square\n\n  const [currentRightClickDown, setCurrentRightClickDown] = useState(); // current arrows\n\n  const [arrows, setArrows] = useState([]); // chess pieces/styling\n\n  const [chessPieces, setChessPieces] = useState({ ...defaultPieces,\n    ...customPieces\n  }); // whether the last move was a manual drop or not\n\n  const [manualDrop, setManualDrop] = useState(false); // the most recent timeout whilst waiting for animation to complete\n\n  const [previousTimeout, setPreviousTimeout] = useState(undefined); // screen size\n\n  const [screenSize, setScreenSize] = useState(undefined); // if currently waiting for an animation to finish\n\n  const [waitingForAnimation, setWaitingForAnimation] = useState(false); // open clearPremoves() to allow user to call on undo/reset/whenever\n\n  useImperativeHandle(ref, () => ({\n    clearPremoves() {\n      clearPremoves();\n    }\n\n  })); // init screen size listener to update screen size on any window size changes\n\n  useEffect(() => {\n    function handleResize() {\n      setScreenSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n      setArrows([]); // change to recalculate arrows instead\n\n      setCurrentRightClickDown(null);\n    }\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return () => window.removeEventListener('resize', handleResize);\n  }, []); // handle external arrows change\n\n  useEffect(() => {\n    setArrows(customArrows);\n  }, [customArrows]); // handle custom pieces change\n\n  useEffect(() => {\n    setChessPieces({ ...defaultPieces,\n      ...customPieces\n    });\n  }, [customPieces]); // handle external position change\n\n  useEffect(() => {\n    var _Object$keys, _Object$entries, _Object$entries$;\n\n    const newPosition = convertPositionToObject(position);\n    const differences = getPositionDifferences(currentPosition, newPosition);\n    const newPieceColour = ((_Object$keys = Object.keys(differences.added)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) <= 2 ? (_Object$entries = Object.entries(differences.added)) === null || _Object$entries === void 0 ? void 0 : (_Object$entries$ = _Object$entries[0]) === null || _Object$entries$ === void 0 ? void 0 : _Object$entries$[1][0] : undefined; // external move has come in before animation is over\n    // cancel animation and immediately update position\n\n    if (waitingForAnimation) {\n      setCurrentPosition(newPosition);\n      setWaitingForAnimation(false);\n      arePremovesAllowed && attemptPremove(newPieceColour);\n\n      if (previousTimeout) {\n        clearTimeout(previousTimeout);\n      }\n    } else {\n      // move was made using drag and drop\n      if (manualDrop) {\n        setCurrentPosition(newPosition);\n        setWaitingForAnimation(false);\n        arePremovesAllowed && attemptPremove(newPieceColour);\n      } else {\n        // move was made by external position change\n        // if position === start then don't override newPieceColour\n        // needs isDifferentFromStart in scenario where premoves have been cleared upon board reset but first move is made by computer, the last move colour would need to be updated\n        if (isDifferentFromStart(newPosition) && lastPieceColour !== undefined) {\n          setLastPieceColour(newPieceColour);\n        } else {\n          // position === start, likely a board reset\n          setLastPieceColour(undefined);\n        }\n\n        setPositionDifferences(differences); // animate external move\n\n        setWaitingForAnimation(true);\n        const newTimeout = setTimeout(() => {\n          setCurrentPosition(newPosition);\n          setWaitingForAnimation(false);\n          arePremovesAllowed && attemptPremove(newPieceColour);\n        }, animationDuration);\n        setPreviousTimeout(newTimeout);\n      }\n    } // reset manual drop, ready for next move to be made by user or external\n\n\n    setManualDrop(false); // inform latest position information\n\n    getPositionObject(newPosition); // clear arrows\n\n    clearArrows(); // clear timeout on unmount\n\n    return () => {\n      clearTimeout(previousTimeout);\n    };\n  }, [position]); // handle drop position change\n\n  function handleSetPosition(sourceSq, targetSq, piece) {\n    // if dropped back down, don't do anything\n    if (sourceSq === targetSq) {\n      return;\n    }\n\n    clearArrows(); // if second move is made for same colour, or there are still premoves queued, then this move needs to be added to premove queue instead of played\n    // premoves length check for colour is added in because white could make 3 premoves, and then black responds to the first move (changing the last piece colour) and then white pre-moves again\n\n    if (arePremovesAllowed && waitingForAnimation || arePremovesAllowed && (lastPieceColour === piece[0] || premovesRef.current.filter(p => p.piece[0] === piece[0]).length > 0)) {\n      const oldPremoves = [...premovesRef.current];\n      oldPremoves.push({\n        sourceSq,\n        targetSq,\n        piece\n      });\n      premovesRef.current = oldPremoves;\n      setPremoves([...oldPremoves]);\n      return;\n    } // if transitioning, don't allow new drop\n\n\n    if (!arePremovesAllowed && waitingForAnimation) return;\n    const newOnDropPosition = { ...currentPosition\n    };\n    setManualDrop(true);\n    setLastPieceColour(piece[0]); // if onPieceDrop function provided, execute it, position must be updated externally and captured by useEffect above for this move to show on board\n\n    if (onPieceDrop.length) {\n      const isValidMove = onPieceDrop(sourceSq, targetSq, piece);\n      if (!isValidMove) clearPremoves();\n    } else {\n      // delete if dropping off board\n      if (dropOffBoardAction === 'trash' && !targetSq) {\n        delete newOnDropPosition[sourceSq];\n      } // delete source piece if not dropping from spare piece\n\n\n      if (sourceSq !== 'spare') {\n        delete newOnDropPosition[sourceSq];\n      } // add piece in new position\n\n\n      newOnDropPosition[targetSq] = piece;\n      setCurrentPosition(newOnDropPosition);\n    } // inform latest position information\n\n\n    getPositionObject(newOnDropPosition);\n  }\n\n  function attemptPremove(newPieceColour) {\n    if (premovesRef.current.length === 0) return; // get current value of premove as this is called in a timeout so value may have changed since timeout was set\n\n    const premove = premovesRef.current[0]; // if premove is a differing colour to last move made, then this move can be made\n\n    if (premove.piece[0] !== undefined && premove.piece[0] !== newPieceColour && onPieceDrop.length) {\n      setLastPieceColour(premove.piece[0]);\n      setManualDrop(true); // pre-move doesn't need animation\n\n      const isValidMove = onPieceDrop(premove.sourceSq, premove.targetSq, premove.piece); // premove was successful and can be removed from queue\n\n      if (isValidMove) {\n        const oldPremoves = [...premovesRef.current];\n        oldPremoves.shift();\n        premovesRef.current = oldPremoves;\n        setPremoves([...oldPremoves]);\n      } else {\n        // premove wasn't successful, clear premove queue\n        clearPremoves();\n      }\n    }\n  }\n\n  function clearPremoves() {\n    setLastPieceColour(undefined);\n    premovesRef.current = [];\n    setPremoves([]);\n  }\n\n  function onRightClickDown(square) {\n    setCurrentRightClickDown(square);\n  }\n\n  function onRightClickUp(square) {\n    if (!areArrowsAllowed) return;\n\n    if (currentRightClickDown) {\n      // same square, don't draw an arrow, but do clear premoves and run onSquareRightClick\n      if (currentRightClickDown === square) {\n        setCurrentRightClickDown(null);\n        clearPremovesOnRightClick && clearPremoves();\n        onSquareRightClick(square);\n        return;\n      } // if arrow already exists then it needs to be removed\n\n\n      for (const i in arrows) {\n        if (arrows[i][0] === currentRightClickDown && arrows[i][1] === square) {\n          setArrows(oldArrows => {\n            const newArrows = [...oldArrows];\n            newArrows.splice(i, 1);\n            return newArrows;\n          });\n          return;\n        }\n      } // different square, draw an arrow\n\n\n      setArrows(oldArrows => [...oldArrows, [currentRightClickDown, square]]);\n    } else setCurrentRightClickDown(null);\n  }\n\n  function clearCurrentRightClickDown() {\n    setCurrentRightClickDown(null);\n  }\n\n  function clearArrows() {\n    setArrows([]);\n  }\n\n  return /*#__PURE__*/jsx(ChessboardContext.Provider, {\n    value: {\n      animationDuration,\n      arePiecesDraggable,\n      arePremovesAllowed,\n      boardOrientation,\n      boardWidth,\n      customArrowColor,\n      customBoardStyle,\n      customDarkSquareStyle,\n      customDropSquareStyle,\n      customLightSquareStyle,\n      customPremoveDarkSquareStyle,\n      customPremoveLightSquareStyle,\n      customSquareStyles,\n      dropOffBoardAction,\n      id,\n      isDraggablePiece,\n      getPositionObject,\n      onDragOverSquare,\n      onMouseOutSquare,\n      onMouseOverSquare,\n      onPieceClick,\n      onPieceDrop,\n      onSquareClick,\n      onSquareRightClick,\n      showBoardNotation,\n      showSparePieces,\n      arrows,\n      chessPieces,\n      clearArrows,\n      clearCurrentRightClickDown,\n      clearPremoves,\n      currentPosition,\n      handleSetPosition,\n      lastPieceColour,\n      manualDrop,\n      onRightClickDown,\n      onRightClickUp,\n      positionDifferences,\n      premoves,\n      screenSize,\n      setChessPieces,\n      setCurrentPosition,\n      setManualDrop,\n      waitingForAnimation\n    },\n    children: children\n  });\n});\n\nfunction Notation({\n  row,\n  col\n}) {\n  const {\n    boardOrientation,\n    boardWidth,\n    customDarkSquareStyle,\n    customLightSquareStyle\n  } = useChessboard();\n  const whiteColor = customLightSquareStyle.backgroundColor;\n  const blackColor = customDarkSquareStyle.backgroundColor;\n  const isRow = col === 0;\n  const isColumn = row === 7;\n  const isBottomLeftSquare = isRow && isColumn;\n\n  function getRow() {\n    return boardOrientation === 'white' ? 8 - row : row + 1;\n  }\n\n  function getColumn() {\n    return boardOrientation === 'black' ? COLUMNS[7 - col] : COLUMNS[col];\n  }\n\n  function renderBottomLeft() {\n    return /*#__PURE__*/jsxs(Fragment, {\n      children: [/*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...numericStyle(boardWidth)\n        },\n        children: getRow()\n      }), /*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...alphaStyle(boardWidth)\n        },\n        children: getColumn()\n      })]\n    });\n  }\n\n  function renderLetters() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...{\n          color: col % 2 !== 0 ? blackColor : whiteColor\n        },\n        ...alphaStyle(boardWidth)\n      },\n      children: getColumn()\n    });\n  }\n\n  function renderNumbers() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...(boardOrientation === 'black' ? {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        } : {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        }),\n        ...numericStyle(boardWidth)\n      },\n      children: getRow()\n    });\n  }\n\n  if (isBottomLeftSquare) {\n    return renderBottomLeft();\n  }\n\n  if (isColumn) {\n    return renderLetters();\n  }\n\n  if (isRow) {\n    return renderNumbers();\n  }\n\n  return null;\n}\n\nconst alphaStyle = width => ({\n  alignSelf: 'flex-end',\n  paddingLeft: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst numericStyle = width => ({\n  alignSelf: 'flex-start',\n  paddingRight: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst notationStyle = {\n  fontFamily: 'Helvetica Neue',\n  zIndex: 3,\n  position: 'absolute'\n};\n\nfunction Piece({\n  piece,\n  square,\n  squares,\n  isPremovedPiece = false\n}) {\n  const {\n    animationDuration,\n    arePiecesDraggable,\n    arePremovesAllowed,\n    boardWidth,\n    id,\n    isDraggablePiece,\n    onPieceClick,\n    premoves,\n    chessPieces,\n    dropTarget,\n    positionDifferences,\n    waitingForAnimation,\n    currentPosition\n  } = useChessboard();\n  const [pieceStyle, setPieceStyle] = useState({\n    opacity: 1,\n    zIndex: 5,\n    touchAction: 'none',\n    cursor: arePiecesDraggable && isDraggablePiece({\n      piece,\n      sourceSquare: square\n    }) ? '-webkit-grab' : 'default'\n  });\n  const [{\n    canDrag,\n    isDragging\n  }, drag, dragPreview] = useDrag(() => ({\n    type: 'piece',\n    item: {\n      piece,\n      square,\n      id\n    },\n    collect: monitor => ({\n      canDrag: isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }),\n      isDragging: !!monitor.isDragging()\n    })\n  }), [piece, square, currentPosition, id]); // hide the default preview\n\n  useEffect(() => {\n    dragPreview(getEmptyImage(), {\n      captureDraggingState: true\n    });\n  }, []); // hide piece on drag\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      opacity: isDragging ? 0 : 1\n    }));\n  }, [isDragging]); // hide piece on matching premoves\n\n  useEffect(() => {\n    // if premoves aren't allowed, don't waste time on calculations\n    if (!arePremovesAllowed) return;\n    let hidePiece = false; // side effect: if piece moves into pre-moved square, its hidden\n    // if there are any premove targets on this square, hide the piece underneath\n\n    if (!isPremovedPiece && premoves.find(p => p.targetSq === square)) hidePiece = true; // if sourceSq === sq and piece matches then this piece has been pre-moved elsewhere?\n\n    if (premoves.find(p => p.sourceSq === square && p.piece === piece)) hidePiece = true; // TODO: If a premoved piece returns to a premoved square, it will hide (e1, e2, e1)\n\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      display: hidePiece ? 'none' : 'unset'\n    }));\n  }, [currentPosition, premoves]); // new move has come in\n  // if waiting for animation, then animation has started and we can perform animation\n  // we need to head towards where we need to go, we are the source, we are heading towards the target\n\n  useEffect(() => {\n    var _positionDifferences$;\n\n    const removedPiece = (_positionDifferences$ = positionDifferences.removed) === null || _positionDifferences$ === void 0 ? void 0 : _positionDifferences$[square]; // check if piece matches or if removed piece was a pawn and new square is on 1st or 8th rank (promotion)\n\n    const newSquare = Object.entries(positionDifferences.added).find(([s, p]) => p === removedPiece || (removedPiece === null || removedPiece === void 0 ? void 0 : removedPiece[1]) === 'P' && (s[1] === '1' || s[1] === '8')); // we can perform animation if our square was in removed, AND the matching piece is in added AND this isn't a premoved piece\n\n    if (waitingForAnimation && removedPiece && newSquare && !isPremovedPiece) {\n      const {\n        sourceSq,\n        targetSq\n      } = getSquareCoordinates(square, newSquare[0]);\n\n      if (sourceSq && targetSq) {\n        setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n          transform: `translate(${targetSq.x - sourceSq.x}px, ${targetSq.y - sourceSq.y}px)`,\n          transition: `transform ${animationDuration}ms`\n        }));\n      }\n    }\n  }, [positionDifferences]); // translate to their own positions (repaint on undo)\n\n  useEffect(() => {\n    const {\n      sourceSq\n    } = getSingleSquareCoordinates(square);\n\n    if (sourceSq) {\n      setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n        transform: `translate(${0}px, ${0}px)`,\n        transition: `transform ${0}ms`\n      }));\n    }\n  }, [currentPosition]); // update is piece draggable\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      cursor: arePiecesDraggable && isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }) ? '-webkit-grab' : 'default'\n    }));\n  }, [square, currentPosition, arePiecesDraggable]);\n\n  function getSingleSquareCoordinates(square) {\n    return {\n      sourceSq: squares[square]\n    };\n  }\n\n  function getSquareCoordinates(sourceSquare, targetSquare) {\n    return {\n      sourceSq: squares[sourceSquare],\n      targetSq: squares[targetSquare]\n    };\n  }\n\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: arePiecesDraggable ? canDrag ? drag : null : null,\n    onClick: () => onPieceClick(piece),\n    style: pieceStyle,\n    children: typeof chessPieces[piece] === 'function' ? chessPieces[piece]({\n      squareWidth: boardWidth / 8,\n      isDragging,\n      droppedPiece: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.piece,\n      targetSquare: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.target,\n      sourceSquare: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.source\n    }) : /*#__PURE__*/jsx(\"svg\", {\n      viewBox: '1 1 43 43',\n      width: boardWidth / 8,\n      height: boardWidth / 8,\n      children: /*#__PURE__*/jsx(\"g\", {\n        children: chessPieces[piece]\n      })\n    })\n  });\n}\n\nfunction Square({\n  square,\n  squareColor,\n  setSquares,\n  squareHasPremove,\n  children\n}) {\n  const squareRef = useRef();\n  const {\n    boardWidth,\n    boardOrientation,\n    clearArrows,\n    currentPosition,\n    customBoardStyle,\n    customDarkSquareStyle,\n    customDropSquareStyle,\n    customLightSquareStyle,\n    customPremoveDarkSquareStyle,\n    customPremoveLightSquareStyle,\n    customSquareStyles,\n    handleSetPosition,\n    lastPieceColour,\n    onDragOverSquare,\n    onMouseOutSquare,\n    onMouseOverSquare,\n    onPieceDrop,\n    onRightClickDown,\n    onRightClickUp,\n    onSquareClick,\n    waitingForAnimation\n  } = useChessboard();\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: 'piece',\n    drop: item => handleSetPosition(item.square, square, item.piece),\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [square, currentPosition, onPieceDrop, waitingForAnimation, lastPieceColour]);\n  useEffect(() => {\n    const {\n      x,\n      y\n    } = squareRef.current.getBoundingClientRect();\n    setSquares(oldSquares => ({ ...oldSquares,\n      [square]: {\n        x,\n        y\n      }\n    }));\n  }, [boardWidth, boardOrientation]);\n  const defaultSquareStyle = { ...borderRadius(customBoardStyle, square, boardOrientation),\n    ...(squareColor === 'black' ? customDarkSquareStyle : customLightSquareStyle),\n    ...(squareHasPremove && (squareColor === 'black' ? customPremoveDarkSquareStyle : customPremoveLightSquareStyle)),\n    ...(isOver && customDropSquareStyle)\n  };\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: drop,\n    style: defaultSquareStyle,\n    onMouseOver: () => onMouseOverSquare(square),\n    onMouseOut: () => onMouseOutSquare(square),\n    onMouseDown: e => {\n      if (e.button === 2) onRightClickDown(square);\n    },\n    onMouseUp: e => {\n      if (e.button === 2) onRightClickUp(square);\n    },\n    onDragEnter: () => onDragOverSquare(square),\n    onClick: () => {\n      onSquareClick(square);\n      clearArrows();\n    },\n    onContextMenu: e => {\n      e.preventDefault();\n    },\n    children: /*#__PURE__*/jsx(\"div\", {\n      ref: squareRef,\n      style: { ...size(boardWidth),\n        ...center,\n        ...(!squareHasPremove && (customSquareStyles === null || customSquareStyles === void 0 ? void 0 : customSquareStyles[square]))\n      },\n      children: children\n    })\n  });\n}\nconst center = {\n  display: 'flex',\n  justifyContent: 'center'\n};\n\nconst size = width => ({\n  width: width / 8,\n  height: width / 8\n});\n\nconst borderRadius = (customBoardStyle, square, boardOrientation) => {\n  if (!customBoardStyle.borderRadius) return {};\n\n  if (square === 'a1') {\n    return boardOrientation === 'white' ? {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'a8') {\n    return boardOrientation === 'white' ? {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h1') {\n    return boardOrientation === 'white' ? {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h8') {\n    return boardOrientation === 'white' ? {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  return {};\n};\n\nfunction Squares({\n  children\n}) {\n  const {\n    boardOrientation,\n    boardWidth,\n    customBoardStyle,\n    id\n  } = useChessboard();\n  return /*#__PURE__*/jsx(\"div\", {\n    \"data-boardid\": id,\n    style: { ...boardStyles(boardWidth),\n      ...customBoardStyle\n    },\n    children: [...Array(8)].map((_, r) => {\n      return /*#__PURE__*/jsx(\"div\", {\n        style: rowStyles(boardWidth),\n        children: [...Array(8)].map((_, c) => {\n          // a1, a2 ...\n          const square = boardOrientation === 'black' ? COLUMNS[7 - c] + (r + 1) : COLUMNS[c] + (8 - r);\n          const squareColor = c % 2 === r % 2 ? 'white' : 'black';\n          return children({\n            square,\n            squareColor,\n            col: c,\n            row: r\n          });\n        })\n      }, r.toString());\n    })\n  });\n}\n\nconst boardStyles = width => ({\n  cursor: 'default',\n  height: width,\n  width\n});\n\nconst rowStyles = width => ({\n  display: 'flex',\n  flexWrap: 'nowrap',\n  width\n});\n\nconst errorImage = {\n  whiteKing: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    style: {\n      shapeRendering: 'geometricPrecision',\n      textRendering: 'geometricPrecision',\n      imageRendering: 'optimizeQuality'\n    },\n    viewBox: \"0 0 4210 12970\",\n    x: \"0px\",\n    y: \"0px\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    width: \"250\",\n    height: \"250\",\n    children: /*#__PURE__*/jsx(\"g\", {\n      children: /*#__PURE__*/jsx(\"path\", {\n        style: {\n          fill: 'black',\n          fillRule: 'nonzero'\n        },\n        d: \"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z\"\n      })\n    })\n  })\n};\n\nfunction ErrorBoundary({\n  children\n}) {\n  try {\n    return children;\n  } catch (error) {\n    return /*#__PURE__*/jsx(WhiteKing, {\n      showError: true\n    });\n  }\n}\nfunction WhiteKing({\n  showError = false\n}) {\n  return /*#__PURE__*/jsxs(\"div\", {\n    style: container,\n    children: [/*#__PURE__*/jsx(\"div\", {\n      style: whiteKingStyle,\n      children: errorImage.whiteKing\n    }), showError && /*#__PURE__*/jsx(\"h1\", {\n      children: \"Something went wrong\"\n    })]\n  });\n}\nconst container = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  flexDirection: 'column'\n};\nconst whiteKingStyle = {\n  width: 250,\n  height: 250,\n  transform: 'rotate(90deg)'\n};\n\nfunction Board() {\n  const boardRef = useRef();\n  const [squares, setSquares] = useState({});\n  const {\n    arrows,\n    boardOrientation,\n    boardWidth,\n    clearCurrentRightClickDown,\n    customArrowColor,\n    showBoardNotation,\n    currentPosition,\n    screenSize,\n    premoves\n  } = useChessboard();\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (boardRef.current && !boardRef.current.contains(event.target)) {\n        clearCurrentRightClickDown();\n      }\n    }\n\n    document.addEventListener('mouseup', handleClickOutside);\n    return () => {\n      document.removeEventListener('mouseup', handleClickOutside);\n    };\n  }, []);\n  return screenSize && boardWidth ? /*#__PURE__*/jsxs(\"div\", {\n    ref: boardRef,\n    style: {\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/jsx(Squares, {\n      children: ({\n        square,\n        squareColor,\n        col,\n        row\n      }) => {\n        const squareHasPremove = premoves.find(p => p.sourceSq === square || p.targetSq === square);\n        const squareHasPremoveTarget = premoves.find(p => p.targetSq === square);\n        return /*#__PURE__*/jsxs(Square, {\n          square: square,\n          squareColor: squareColor,\n          setSquares: setSquares,\n          squareHasPremove: squareHasPremove,\n          children: [currentPosition[square] && /*#__PURE__*/jsx(Piece, {\n            piece: currentPosition[square],\n            square: square,\n            squares: squares\n          }), squareHasPremoveTarget && /*#__PURE__*/jsx(Piece, {\n            isPremovedPiece: true,\n            piece: squareHasPremoveTarget.piece,\n            square: square,\n            squares: squares\n          }), showBoardNotation && /*#__PURE__*/jsx(Notation, {\n            row: row,\n            col: col\n          })]\n        }, `${col}${row}`);\n      }\n    }), /*#__PURE__*/jsx(\"svg\", {\n      width: boardWidth,\n      height: boardWidth,\n      style: {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        pointerEvents: 'none',\n        zIndex: '10'\n      },\n      children: arrows.map((arrow, i) => {\n        const from = getRelativeCoords(boardOrientation, boardWidth, arrow[0]);\n        const to = getRelativeCoords(boardOrientation, boardWidth, arrow[1]);\n        return /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsx(\"defs\", {\n            children: /*#__PURE__*/jsx(\"marker\", {\n              id: \"arrowhead\",\n              markerWidth: \"2\",\n              markerHeight: \"2.5\",\n              refX: \"1.25\",\n              refY: \"1.25\",\n              orient: \"auto\",\n              children: /*#__PURE__*/jsx(\"polygon\", {\n                points: \"0 0, 2 1.25, 0 2.5\",\n                style: {\n                  fill: customArrowColor\n                }\n              })\n            })\n          }), /*#__PURE__*/jsx(\"line\", {\n            x1: from.x,\n            y1: from.y,\n            x2: to.x,\n            y2: to.y,\n            style: {\n              stroke: customArrowColor,\n              strokeWidth: boardWidth / 36\n            },\n            markerEnd: \"url(#arrowhead)\"\n          }, i)]\n        });\n      })\n    })]\n  }) : /*#__PURE__*/jsx(WhiteKing, {});\n}\n\nfunction CDragLayer(props) {\n  const {\n    boardWidth,\n    chessPieces,\n    id\n  } = useChessboard();\n  const {\n    isDragging,\n    item,\n    currentOffset\n  } = props;\n  const layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 10,\n    left: 0,\n    top: 0\n  };\n\n  const getItemStyle = currentOffset => {\n    if (!currentOffset) return {\n      display: 'none'\n    };\n    const {\n      x,\n      y\n    } = currentOffset;\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n      transform,\n      WebkitTransform: transform,\n      touchAction: 'none'\n    };\n  };\n\n  return isDragging && item.id === id ? /*#__PURE__*/jsx(\"div\", {\n    style: layerStyles,\n    children: /*#__PURE__*/jsx(\"div\", {\n      style: getItemStyle(currentOffset),\n      children: typeof chessPieces[item.piece] === 'function' ? chessPieces[item.piece]({\n        squareWidth: boardWidth / 8,\n        isDragging: true\n      }) : /*#__PURE__*/jsx(\"svg\", {\n        viewBox: '1 1 43 43',\n        width: boardWidth / 8,\n        height: boardWidth / 8,\n        children: /*#__PURE__*/jsx(\"g\", {\n          children: chessPieces[item.piece]\n        })\n      })\n    })\n  }) : null;\n}\n\nfunction collect(monitor) {\n  return {\n    item: monitor.getItem(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging()\n  };\n}\n\nconst CustomDragLayer = DragLayer(collect)(CDragLayer);\n\nconst Chessboard = /*#__PURE__*/forwardRef((props, ref) => {\n  return /*#__PURE__*/jsx(ErrorBoundary, {\n    children: /*#__PURE__*/jsx(DndProvider, {\n      options: HTML5toTouch,\n      children: /*#__PURE__*/jsxs(ChessboardProvider, {\n        ref: ref,\n        ...props,\n        children: [/*#__PURE__*/jsx(CustomDragLayer, {}), /*#__PURE__*/jsx(\"div\", {\n          children: /*#__PURE__*/jsx(Board, {})\n        })]\n      })\n    })\n  });\n});\nChessboard.propTypes = chessboardPropTypes;\nChessboard.defaultProps = chessboardDefaultProps;\n\nexport { Chessboard };\n"]},"metadata":{},"sourceType":"module"}